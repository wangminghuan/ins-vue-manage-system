webpackJsonp([15],{EviG:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("Xxa5"),s=t.n(r),l=t("exGp"),n=t.n(l),o=t("HGAp"),c=t("laOz"),i=t("Z1YF"),_=t("PcmU"),u=t("gHwQ"),p=t("PJh5"),d=t.n(p),h={mixins:[_.a],components:{BaseDialog:u.a,SelectChoose:o.a,SelectJobGrade:c.a},data:function(){return{searchData:{search_month:d()().format("YYYY-MM")},currSelected:null,tableData:{data:[],total:0,current_page:1,perPage:10},dialog:{detail:!1},detailList:[]}},methods:{query:function(){var a=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return n()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.searchData.perPage=10,a.searchData.page=e,t.next=4,a.$axios.send("EXAMINE_WARN_LIST",a.searchData);case 4:(r=t.sent)&&0===r.status_code&&(a.tableData=r.result.listData);case 6:case"end":return t.stop()}},t,a)}))()},detail:function(a){var e=this;return n()(s.a.mark(function t(){var r,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={id:a},t.next=3,e.$axios.send("EXAMINE_WARN_DETAIL",r);case 3:(l=t.sent)&&0===l.status_code&&(e.dialog.detail=!0,e.detailList=l.result.a_e_w_data);case 5:case"end":return t.stop()}},t,e)}))()},excel:function(){var a=this;return n()(s.a.mark(function e(){var t,r,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/examine/warn/export",r={responseType:"blob"},e.next=4,a.$axios.post(t,a.searchData,r);case 4:(l=e.sent)&&0===l.status_code?(a.loading=!1,a.$message.success("导入成功")):i.a.downloadFile(l,"考核预警.xlsx");case 6:case"end":return e.stop()}},e,a)}))()}}},m={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("section",{staticClass:"header-title"},[a._v(a._s(a.$route.name))]),a._v(" "),t("div",{staticClass:"mb30"}),a._v(" "),t("el-form",{staticClass:"common-padding",attrs:{model:a.searchData,"label-width":"120px"}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"机构选择"}},[t("SelectChoose",{attrs:{placeholder:""},model:{value:a.searchData.search_oid,callback:function(e){a.$set(a.searchData,"search_oid",e)},expression:"searchData.search_oid"}})],1)],1),a._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"组织名称"}},[t("el-input",{model:{value:a.searchData.search_t_name,callback:function(e){a.$set(a.searchData,"search_t_name",e)},expression:"searchData.search_t_name"}})],1)],1),a._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"考核职级"}},[t("select-job-grade",{model:{value:a.searchData.search_jg_id,callback:function(e){a.$set(a.searchData,"search_jg_id",e)},expression:"searchData.search_jg_id"}})],1)],1),a._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"代理人工号"}},[t("el-input",{model:{value:a.searchData.search_ag_code,callback:function(e){a.$set(a.searchData,"search_ag_code",e)},expression:"searchData.search_ag_code"}})],1)],1),a._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"代理人姓名"}},[t("el-input",{model:{value:a.searchData.search_ag_name,callback:function(e){a.$set(a.searchData,"search_ag_name",e)},expression:"searchData.search_ag_name"}})],1)],1),a._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"预警月份"}},[t("el-date-picker",{attrs:{placeholder:"选择月份","value-format":"yyyy-MM","picker-options":a.disablePickerOptions,type:"month"},model:{value:a.searchData.search_month,callback:function(e){a.$set(a.searchData,"search_month",e)},expression:"searchData.search_month"}})],1)],1),a._v(" "),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:""}},[t("el-button",{directives:[{name:"has",rawName:"v-has",value:"EXAMINE_WARN_LIST",expression:"'EXAMINE_WARN_LIST'"}],attrs:{type:"primary"},on:{click:function(e){return a.query(1)}}},[a._v("查询")]),a._v(" "),t("el-button",{directives:[{name:"has",rawName:"v-has",value:"EXAMINE_WARN_EXPORT",expression:"'EXAMINE_WARN_EXPORT'"}],attrs:{type:"success"},on:{click:a.excel}},[a._v("导出")])],1)],1)],1)],1),a._v(" "),t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"common-padding"},[t("el-table",{attrs:{data:a.tableData.data,"highlight-current-row":"",border:""}},[t("el-table-column",{attrs:{prop:"o_name",label:"机构名称"}}),a._v(" "),t("el-table-column",{attrs:{prop:"t_name",label:"组织名称"}}),a._v(" "),t("el-table-column",{attrs:{prop:"ag_job_number",label:"代理人工号"}}),a._v(" "),t("el-table-column",{attrs:{prop:"ag_name",label:"代理人姓名"}}),a._v(" "),t("el-table-column",{attrs:{prop:"a_e_w_time",label:"预警月份"}}),a._v(" "),t("el-table-column",{attrs:{prop:"jg_name",label:"考核职级"}}),a._v(" "),t("el-table-column",{attrs:{label:"当前业绩"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("span",{staticStyle:{color:"#6797EC",cursor:"pointer"},on:{click:function(t){return a.detail(e.row.a_e_w_id)}}},[a._v("详情")])]}}])})],1)],1)]),a._v(" "),t("el-col",{attrs:{span:23}},[t("div",{staticClass:"footer-page"},[a.tableData.total>0?t("div",{staticClass:"common-paging"},[t("el-pagination",{attrs:{"current-page":a.tableData.current_page,"page-size":10,layout:"total, prev, pager, next, jumper",total:a.tableData.total},on:{"current-change":a.handleCurrentChange}})],1):a._e()])])],1),a._v(" "),t("base-dialog",{attrs:{title:"分配轨迹",isshow:a.dialog.detail,width:"600px"},on:{"update:isshow":function(e){return a.$set(a.dialog,"detail",e)}}},[t("el-table",{attrs:{data:a.detailList}},[t("el-table-column",{attrs:{label:"维持条件",prop:"name"}}),a._v(" "),t("el-table-column",{attrs:{label:"当前业绩",prop:"value"}}),a._v(" "),t("el-table-column",{attrs:{label:"维持指标",prop:"norm"}}),a._v(" "),t("el-table-column",{attrs:{label:"差额",prop:"subtraction"}}),a._v(" "),t("el-table-column",{attrs:{label:"完成度",prop:"is_reach"},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.is_reach?t("span",[a._v("完成")]):a._e(),a._v(" "),e.row.is_reach?a._e():t("span",[a._v("未完成")])]}}])})],1)],1)],1)},staticRenderFns:[]},v=t("VU/8")(h,m,!1,null,null,null);e.default=v.exports}});