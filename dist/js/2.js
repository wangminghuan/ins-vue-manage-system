webpackJsonp([2],{"/Heu":function(e,t,a){"use strict";var s=a("Xxa5"),r=a.n(s),l=a("exGp"),o=a.n(l),n=a("MICi"),i=a.n(n),c={props:["value","placeholder","isShowNull","disabled"],data:function(){return{myValue:"",list:[]}},created:function(){this.myValue=i()(parseInt(this.value))?"":parseInt(this.value),this.init()},methods:{init:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}},t,e)}))()},getData:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.send("SELECT_BANK_LIST");case 2:(a=t.sent)&&0===a.status_code&&(e.list=a.result);case 4:case"end":return t.stop()}},t,e)}))()},change:function(){this.$emit("input",this.myValue)}},watch:{value:function(e){var t=parseInt(e);this.myValue="number"!=typeof t||i()(t)?null:t}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{staticClass:"w100",attrs:{placeholder:e.placeholder,clearable:"",disabled:e.disabled},on:{change:e.change},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:"myValue"}},[e.isShowNull?a("el-option",{attrs:{label:"请选择",value:""}}):e._e(),e._v(" "),e._l(e.list,function(e,t){return a("el-option",{key:t,attrs:{value:t,label:e}})})],2)],1)},staticRenderFns:[]},u=a("VU/8")(c,_,!1,null,null,null);t.a=u.exports},"00+S":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={components:{FormInsDetail:a("i2z1").a}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("form-ins-detail",{attrs:{"action-type":2}})],1)},staticRenderFns:[]},l=a("VU/8")(s,r,!1,null,null,null);t.default=l.exports},"0Os8":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={components:{FormInsEdit:a("9uVx").a}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("form-ins-edit")],1)},staticRenderFns:[]},l=a("VU/8")(s,r,!1,null,null,null);t.default=l.exports},"0gVd":function(e,t){},"22Vx":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={components:{FormInsEdit:a("9uVx").a}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("form-ins-edit")],1)},staticRenderFns:[]},l=a("VU/8")(s,r,!1,null,null,null);t.default=l.exports},"9o7Q":function(e,t){},"9uVx":function(e,t,a){"use strict";var s=a("MICi"),r=a.n(s),l=a("Xxa5"),o=a.n(l),n=a("exGp"),i=a.n(n),c=a("lbHh"),_=a.n(c),u=a("csDp"),m=a("Ob/D"),p=a("/Heu"),d=a("4U5d"),f=a("zL8q"),b=a("Z1YF"),v={extends:f.DatePicker},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.ranged?e._e():a("el-input",e._b({directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor",class:"el-date-editor--"+e.type,attrs:{readonly:!e.editable||e.readonly||"dates"===e.type,disabled:e.pickerDisabled,size:e.pickerSize,name:e.name,placeholder:e.placeholder,value:e.displayValue,validateEvent:!1,"suffix-icon":"el-icon-date"},on:{focus:e.handleFocus,input:function(t){return e.userInput=t},change:e.handleChange},nativeOn:{keydown:function(t){return e.handleKeydown(t)},mouseenter:function(t){return e.handleMouseEnter(t)},mouseleave:function(t){e.showClose=!1}}},"el-input",e.firstInputId,!1),[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._t("select")],2)])],1)},staticRenderFns:[]};var D=a("VU/8")(v,h,!1,function(e){a("nOrf")},"data-v-3fc4253b",null).exports,y=a("Deoy"),g=a("PJh5"),x=a.n(g),w={mixins:[y.a],components:{BaseCollapseCard:u.a,SelectCompany:m.a,SelectBank:p.a,SelectDatePicker:D},data:function(){return{baseUrl:"",editType:"add",loading:!1,masterSelects:[],secondSelects:[],agentSelects:[],formData:{c_id:"",tb_code:"",bd_code:"",ag_id:"",ag_code:"",ag_name:"",o_id:"",o_name:"",o_code:"",tb_date:x()().format("YYYY-MM-DD"),bd_time:x()().format("YYYY-MM-DD"),tb_name:"",tb_id_type:"",tb_id_number:"",tb_id_longtime:0,tb_id_date:"",tb_sex:"",tb_birthday:"",tb_company:"",tb_job:"",tb_phone:"",tb_email:"",tb_addr:"",tb_postcode:"",bb_tb_relation:"",ir_name:"",ir_id_type:null,ir_id_number:"",ir_id_longtime:0,ir_id_date:"",ir_birthday:"",ir_company:"",ir_phone:"",ir_email:"",ir_addr:"",ir_postcode:"",ir_sex:null,ir_job:"",f_type:0,favoree:[],master:[{sp_property:1,sp_bao_type:null,sp_bao_time:"",sp_pay_type:null,sp_pay_time:"",sp_pay_way:"",sp_money:"",sp_premium:""}],second:[],pay_first:"",pay_name:"",pay_account:"",pay_bank:"",overdue_status:""},id:null,actionType:null}},created:function(){this.init()},methods:{init:function(){this.baseUrl=window.resourceBaseUrl,this.id=this.$route.params.id||"0",this.actionType=this.$route.params.actionType||"0",this.actionType+="",this.insDisable="0"!==this.id&&"1"===this.actionType,this.editType="0"!==this.id,"0"!==this.id&&this.getDetail()},idTypeChange:function(e,t,a,s){Array.isArray(t)&&(11===e?t[1]={validator:d.a.idCard,message:"身份证格式不正确",trigger:"blur"}:t.splice(1,1)),a&&this.$refs.formData.validateField(s)},setUserInfo:function(e,t,a,s){var r=e[t],l=b.a.getPersonByIdCardNum(r);l?(e[s]=l.sex,e[a]=l.birthday):(e[s]=null,e[a]="")},relationChange:function(e){if(0===e)this.formData.ir_name=this.formData.tb_name,this.formData.ir_id_type=this.formData.tb_id_type,this.formData.ir_id_number=this.formData.tb_id_number,this.formData.ir_id_longtime=this.formData.tb_id_longtime,this.formData.ir_id_date=this.formData.tb_id_date,this.formData.ir_birthday=this.formData.tb_birthday,this.formData.ir_company=this.formData.tb_company,this.formData.ir_phone=this.formData.tb_phone,this.formData.ir_email=this.formData.tb_email,this.formData.ir_addr=this.formData.tb_addr,this.formData.ir_postcode=this.formData.tb_postcode,this.formData.ir_sex=this.formData.tb_sex,this.formData.ir_job=this.formData.tb_job,this.$refs.formData.validateField("ir_name"),this.$refs.formData.validateField("ir_id_type"),this.$refs.formData.validateField("ir_id_number"),this.$refs.formData.validateField("ir_sex"),this.$refs.formData.validateField("ir_birthday"),this.$refs.formData.validateField("ir_id_longtime"),this.$refs.formData.validateField("ir_phone"),this.$refs.formData.validateField("ir_email"),this.$refs.formData.validateField("ir_addr");else{this.formData.ir_name="",this.formData.ir_id_type="",this.formData.ir_id_number="",this.formData.ir_id_longtime=0,this.formData.ir_id_date="",this.formData.ir_birthday="",this.formData.ir_company="",this.formData.ir_phone="",this.formData.ir_email="",this.formData.ir_addr="",this.formData.ir_postcode="",this.formData.ir_sex="",this.formData.ir_job="";var t=this;setTimeout(function(){t.$refs.formData.clearValidate(["ir_name","ir_id_type","ir_id_number","ir_sex","ir_birthday","ir_id_longtime","ir_phone","ir_email","ir_addr"])})}},getAgentByCode:function(e,t){var a=this;return i()(o.a.mark(function t(){var s,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=JSON.parse(_.a.get("user")),t.next=3,a.$axios.send("AGENT_MENAGE_LIST",{ag_job_number:e,o_id:s.o_id,ag_status:1});case 3:(r=t.sent)&&0===r.status_code&&(a.agentSelects=r.result);case 5:case"end":return t.stop()}},t,a)}))()},agentChange:function(e){var t=this;e&&this.agentSelects.map(function(a){a.ag_job_number===e&&(t.formData.ag_name=a.ag_name,t.formData.o_id=a.o_id,t.formData.o_name=a.o_name,t.formData.o_code=a.o_code,t.formData.ag_id=a.ag_id)})},queryInsByCode:function(){var e=this;return i()(o.a.mark(function t(){var a,s,r,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.formData.c_id){t.next=3;break}return e.$message.error("请选择保险公司"),t.abrupt("return");case 3:return a={search_cid:e.formData.c_id,search_status:1},"0"!==e.id&&delete a.search_status,t.next=7,e.$axios.send("SELECT_PRODUCT_LIST",a);case 7:(s=t.sent)&&0===s.status_code&&(r=s.result,l=e,e.masterSelects=[],e.secondSelects=[],Array.isArray(r)&&r.map(function(e){1===e.p_property&&l.masterSelects.push(e),2===e.p_property&&l.secondSelects.push(e)}));case 9:case"end":return t.stop()}},t,e)}))()},save:function(){var e=this;return i()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e,e.$refs.formData.validate(function(){var t=i()(o.a.mark(function t(s){var r,l,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=15;break}if(r=a.buildData()){t.next=4;break}return t.abrupt("return");case 4:if("0"!==a.id){t.next=11;break}return t.next=7,a.$axios.send("TB_MANAGE_ADD",r);case 7:(l=t.sent)&&0===l.status_code&&(f.Message.success("添加成功"),e.reset()),t.next=15;break;case 11:return t.next=13,a.$axios.send("TB_MANAGE_UPDATE",r,{s_id:a.id});case 13:(n=t.sent)&&0===n.status_code&&(f.Message.success("修改成功"),e.$router.go(-1));case 15:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,e)}))()},buildData:function(){if(this.validateFavoree()){this.setPayName();var e=0,t=b.a.clone(this.formData);t.action_type=this.actionType,t.products=this.formData.master.concat(this.formData.second);for(var a=0;a<t.products.length;a++)e+=parseFloat(t.products[a].sp_premium);return t.pay_first=e.toFixed(2),delete t.master,delete t.second,"0"===this.actionType?(delete t.bd_code,delete t.bd_time):(delete t.tb_code,delete t.tb_date),t}},getPayFirst:function(){var e=0,t=[];t=(t=t.concat(b.a.clone(this.formData.master))).concat(b.a.clone(this.formData.second));for(var a=/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/,s=0;s<t.length;s++)a.test(t[s].sp_premium)&&(e+=parseFloat(t[s].sp_premium));e=r()(e)?0:e,this.formData.pay_first=e.toFixed(2)},validateFavoree:function(){var e=!0;if(1===this.formData.f_type){for(var t=0,a=0;a<this.formData.favoree.length;a++)t+=parseFloat(this.formData.favoree[a].f_percent);100!==t&&(f.Message.error("受益人比例必须是 100%"),e=!1)}return e},addFavoree:function(){0!==this.formData.f_type?(this.formData.favoree||(this.formData.favoree=[]),this.formData.favoree.push({f_sort:this.formData.favoree.length+1,f_percent:"",f_name:"",f_id_type:null,f_id_number:"",f_birthday:"",f_sex:null,f_phone:"",rule_id_number:b.a.clone(this.Rule.INS_EDIT.f_id_number)})):f.Message.warning("只有指定受益人时才可以新增")},removeFavoree:function(e){if(0!==e){this.formData.favoree.splice(e,1);for(var t=0;t<this.formData.favoree.length;t++)this.formData.favoree.f_sort=t+1}},removeInsType:function(e,t){e.length>0&&e.splice(t,1),this.getPayFirst()},getDetail:function(){var e=this;return i()(o.a.mark(function t(){var a,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.send("TB_MANAGE_DETAIL","",{s_id:e.id});case 2:if((a=t.sent)&&0===a.status_code){for(a.result.master=[],a.result.second=[],s=0;s<a.result.products.length;s++)1===a.result.products[s].sp_property?a.result.master.push(a.result.products[s]):a.result.second.push(a.result.products[s]);a.result.ir_addr=a.result.recognizee.ir_addr,a.result.ir_birthday=a.result.recognizee.ir_birthday,a.result.ir_company=a.result.recognizee.ir_company,a.result.ir_email=a.result.recognizee.ir_email,a.result.ir_id=a.result.recognizee.ir_id,a.result.ir_id_date=a.result.recognizee.ir_id_date,a.result.ir_id_longtime=a.result.recognizee.ir_id_longtime,a.result.ir_id_number=a.result.recognizee.ir_id_number,a.result.ir_id_type=a.result.recognizee.ir_id_type,a.result.ir_job=a.result.recognizee.ir_job,a.result.ir_name=a.result.recognizee.ir_name,a.result.ir_phone=a.result.recognizee.ir_phone,a.result.ir_postcode=a.result.recognizee.ir_postcode,a.result.ir_sex=a.result.recognizee.ir_sex,a.result.favoree=a.result.favoree||[],e.formData=a.result,e.queryInsByCode(),e.$refs.formData.resetFields()}case 4:case"end":return t.stop()}},t,e)}))()},reset:function(){var e=b.a.clear(this.formData);delete e.products,e.master=e.master.splice(0,1),e.master[0].sp_property=1,e.tb_id_longtime=0,e.ir_id_longtime=0,e.second=[],this.formData=e;var t=this;setTimeout(function(){t.$refs.formData.resetFields()})},changeTBIdLongTime:function(e){1===e?(this.formData.tb_id_date="",this.Rule.INS_EDIT.tb_id_date=[]):this.Rule.INS_EDIT.tb_id_date=[{required:!0,message:"证件有效期还未选择",trigger:"blur"}]},changeBBIdLongTime:function(e){1===e?(this.formData.ir_id_date="",this.Rule.INS_EDIT.ir_id_date=[]):this.Rule.INS_EDIT.ir_id_date=[{required:!0,message:"证件有效期还未选择",trigger:"blur"}]},insChange:function(e,t){this.formData.c_id?(1===t?this.masterSelects:this.secondSelects).map(function(t){t.p_code===e.p_code&&(e.p_name=t.p_name,e.p_id=t.p_id)}):this.$message.error("请先选择保险公司")},changeBaoType:function(e){0===e.sp_bao_type&&(e.sp_bao_time="")},addInsType:function(e){var t={sp_property:e,sp_bao_type:"",sp_bao_time:"",sp_pay_type:"",sp_pay_time:"",sp_pay_way:"",sp_money:"",sp_premium:""};1===e?this.formData.master.push(t):(t.sp_auto=1,t.isDelete=!0,this.formData.second.push(t))},fTypeChange:function(){0===this.formData.f_type?this.formData.favoree=[]:this.addFavoree()},setPayName:function(){this.formData.pay_name=this.formData.tb_name},upload:function(e){var t=this;return i()(o.a.mark(function a(){var s,r,l,n,i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.loading=!0,s=e.file,r="/importPolicy",(l=new FormData).append("file",s),l.append("action_type",t.actionType),n={headers:{"Content-Type":"multipart/form-data"},responseType:"blob"},a.next=9,t.$axios.post(r,l,n);case 9:(i=a.sent)&&0===i.status_code?(t.loading=!1,t.$message.success("导入成功")):b.a.downloadFile(i,"错误数据.xlsx");case 11:case"end":return a.stop()}},a,t)}))()}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["0"===e.actionType?a("section",{staticClass:"header-title"},[e._v("\n    "+e._s(e.$route.name)+"\n\n    "),e.editType?e._e():a("span",{staticClass:"fr"},[a("el-upload",{staticClass:"import-btn",attrs:{action:"upload","http-request":e.upload,"show-file-list":!1,accept:".xls, .xlsx"}},[a("span",{directives:[{name:"has",rawName:"v-has",value:"TB_IMPORT",expression:"'TB_IMPORT'"}]},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("批量导入")])],1)])],1),e._v(" "),e.editType?e._e():a("span",{staticClass:"fr"},[a("a",{directives:[{name:"has",rawName:"v-has",value:"TB_EXPORT",expression:"'TB_EXPORT'"}],staticClass:"el-button el-button--primary el-button--small download-btn",attrs:{href:e.baseUrl+"template/投保单导入模板.xlsx",download:"保单导入模板.xlsx",type:"primary",size:"small"}},[e._v("导入模板下载")])])]):e._e(),e._v(" "),"1"===e.actionType?a("section",{staticClass:"header-title"},[e._v("\n    "+e._s(e.$route.name)+"\n\n    "),e.editType?e._e():a("span",{staticClass:"fr"},[a("el-upload",{staticClass:"import-btn",attrs:{action:"upload","http-request":e.upload,"show-file-list":!1,accept:".xls, .xlsx"}},[a("span",{directives:[{name:"has",rawName:"v-has",value:"BD_IMPORT",expression:"'BD_IMPORT'"}]},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("批量导入")])],1)])],1),e._v(" "),e.editType?e._e():a("span",{staticClass:"fr"},[a("a",{directives:[{name:"has",rawName:"v-has",value:"BD_EXPORT",expression:"'BD_EXPORT'"}],staticClass:"el-button el-button--primary el-button--small download-btn",attrs:{href:e.baseUrl+"template/保单导入模板.xlsx",download:"保单导入模板.xlsx",type:"primary",size:"small"}},[e._v("导入模板下载")])])]):e._e(),e._v(" "),a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.Rule.INS_EDIT,"label-width":"120px"}},[a("div",{staticClass:"entry-boder"},[a("base-collapse-card",{staticClass:"form-item",attrs:{title:"基本信息"}},[a("el-row",{staticClass:"pr20"},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保险公司",prop:"c_id"}},[a("select-company",{attrs:{disabled:e.insDisable,editType:"0"===e.id?"add":"edit"},on:{change:e.queryInsByCode},model:{value:e.formData.c_id,callback:function(t){e.$set(e.formData,"c_id",t)},expression:"formData.c_id"}})],1)],1),e._v(" "),"0"===e.actionType?a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"投保单号",prop:"tb_code"}},[a("el-input",{attrs:{maxlength:20},model:{value:e.formData.tb_code,callback:function(t){e.$set(e.formData,"tb_code",t)},expression:"formData.tb_code"}})],1)],1):e._e(),e._v(" "),"1"===e.actionType?a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保单号",prop:"bd_code"}},[a("el-input",{attrs:{maxlength:20},model:{value:e.formData.bd_code,callback:function(t){e.$set(e.formData,"bd_code",t)},expression:"formData.bd_code"}})],1)],1):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"entry-boder"},[a("base-collapse-card",{staticClass:"form-item",attrs:{title:"代理人信息"}},[a("el-row",{staticClass:"pr20"},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理人工号",prop:"ag_job_number"}},[a("el-select",{attrs:{filterable:"",remote:"","remote-method":e.getAgentByCode},on:{change:e.agentChange},model:{value:e.formData.ag_job_number,callback:function(t){e.$set(e.formData,"ag_job_number",t)},expression:"formData.ag_job_number"}},e._l(e.agentSelects,function(t){return a("el-option",{key:t.ag_id,attrs:{label:t.ag_job_number,value:t.ag_job_number}},[a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.ag_job_number))]),e._v(" "),a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.ag_name))])])}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理人名称",prop:"ag_name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.ag_name,callback:function(t){e.$set(e.formData,"ag_name",t)},expression:"formData.ag_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"销售机构代码",prop:"o_id"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.o_code,callback:function(t){e.$set(e.formData,"o_code",t)},expression:"formData.o_code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"销售机构名称",prop:"o_name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.o_name,callback:function(t){e.$set(e.formData,"o_name",t)},expression:"formData.o_name"}})],1)],1),e._v(" "),"0"===e.actionType?a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"投保日期",prop:"tb_date"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date"},model:{value:e.formData.tb_date,callback:function(t){e.$set(e.formData,"tb_date",t)},expression:"formData.tb_date"}})],1)],1):e._e(),e._v(" "),"1"===e.actionType?a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"生效时间",prop:"bd_time"}},[a("el-date-picker",{attrs:{disabled:e.insDisable,"value-format":"yyyy-MM-dd",type:"date"},model:{value:e.formData.bd_time,callback:function(t){e.$set(e.formData,"bd_time",t)},expression:"formData.bd_time"}})],1)],1):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"entry-boder"},[a("base-collapse-card",{staticClass:"form-item",attrs:{title:"投保人资料"}},[a("el-row",{staticClass:"pr20",attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名",prop:"tb_name"}},[a("el-input",{attrs:{maxlength:10},on:{blur:e.setPayName},model:{value:e.formData.tb_name,callback:function(t){e.$set(e.formData,"tb_name",t)},expression:"formData.tb_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件类型",prop:"tb_id_type"}},[a("el-select",{staticClass:"w100",on:{change:function(t){return e.idTypeChange(e.formData.tb_id_type,e.Rule.INS_EDIT.tb_id_number,e.formData.tb_id_number,"tb_id_number")}},model:{value:e.formData.tb_id_type,callback:function(t){e.$set(e.formData,"tb_id_type",t)},expression:"formData.tb_id_type"}},e._l(e.Dict.CARD_TYPE,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件号码",prop:"tb_id_number"}},[a("el-input",{attrs:{maxlength:20},on:{blur:function(t){return e.setUserInfo(e.formData,"tb_id_number","tb_birthday","tb_sex")}},model:{value:e.formData.tb_id_number,callback:function(t){e.$set(e.formData,"tb_id_number",t)},expression:"formData.tb_id_number"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件有效期",prop:"tb_id_longtime"}},[a("select-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",disabled:!!e.formData.tb_id_longtime},model:{value:e.formData.tb_id_date,callback:function(t){e.$set(e.formData,"tb_id_date",t)},expression:"formData.tb_id_date"}},[a("el-select",{staticClass:"w100px",attrs:{slot:"select"},on:{change:e.changeTBIdLongTime},slot:"select",model:{value:e.formData.tb_id_longtime,callback:function(t){e.$set(e.formData,"tb_id_longtime",t)},expression:"formData.tb_id_longtime"}},e._l(e.Dict.CARD_LONGTIME,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"性别",prop:"tb_sex"}},[a("el-select",{staticClass:"w100",model:{value:e.formData.tb_sex,callback:function(t){e.$set(e.formData,"tb_sex",t)},expression:"formData.tb_sex"}},e._l(e.Dict.GENDER,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出生日期",prop:"tb_birthday"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date"},model:{value:e.formData.tb_birthday,callback:function(t){e.$set(e.formData,"tb_birthday",t)},expression:"formData.tb_birthday"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"工作单位",prop:"tb_company"}},[a("el-input",{model:{value:e.formData.tb_company,callback:function(t){e.$set(e.formData,"tb_company",t)},expression:"formData.tb_company"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"职业/工种",prop:"tb_job"}},[a("el-input",{model:{value:e.formData.tb_job,callback:function(t){e.$set(e.formData,"tb_job",t)},expression:"formData.tb_job"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"手机号",prop:"tb_phone"}},[a("el-input",{model:{value:e.formData.tb_phone,callback:function(t){e.$set(e.formData,"tb_phone",t)},expression:"formData.tb_phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"邮编",prop:"tb_postcode"}},[a("el-input",{attrs:{type:"tel",max:"999999",maxlength:6},model:{value:e.formData.tb_postcode,callback:function(t){e.$set(e.formData,"tb_postcode",t)},expression:"formData.tb_postcode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"邮箱",prop:"tb_email"}},[a("el-input",{model:{value:e.formData.tb_email,callback:function(t){e.$set(e.formData,"tb_email",t)},expression:"formData.tb_email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"详细地址",prop:"tb_addr"}},[a("el-input",{attrs:{maxlength:60},model:{value:e.formData.tb_addr,callback:function(t){e.$set(e.formData,"tb_addr",t)},expression:"formData.tb_addr"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"entry-boder"},[a("base-collapse-card",{staticClass:"form-item",attrs:{title:"被保人资料"}},[a("el-row",{staticClass:"pr20"},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"与投保人关系",prop:"bb_tb_relation"}},[a("el-select",{staticClass:"w100",attrs:{disabled:e.editType},on:{change:e.relationChange},model:{value:e.formData.bb_tb_relation,callback:function(t){e.$set(e.formData,"bb_tb_relation",t)},expression:"formData.bb_tb_relation"}},e._l(e.Dict.PERSON_RELATION,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名",prop:"ir_name"}},[a("el-input",{attrs:{disabled:e.editType,maxlength:10},model:{value:e.formData.ir_name,callback:function(t){e.$set(e.formData,"ir_name",t)},expression:"formData.ir_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件类型",prop:"ir_id_type"}},[a("el-select",{staticClass:"w100",attrs:{disabled:e.editType},on:{change:function(t){return e.idTypeChange(e.formData.ir_id_type,e.Rule.INS_EDIT.ir_id_number,e.formData.ir_id_number,"ir_id_number")}},model:{value:e.formData.ir_id_type,callback:function(t){e.$set(e.formData,"ir_id_type",t)},expression:"formData.ir_id_type"}},e._l(e.Dict.CARD_TYPE,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件号码",prop:"ir_id_number"}},[a("el-input",{attrs:{disabled:e.editType},on:{blur:function(t){return e.setUserInfo(e.formData,"ir_id_number","ir_birthday","ir_sex")}},model:{value:e.formData.ir_id_number,callback:function(t){e.$set(e.formData,"ir_id_number",t)},expression:"formData.ir_id_number"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件有效期",prop:"ir_id_longtime"}},[a("select-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",disabled:e.editType||!!e.formData.ir_id_longtime},model:{value:e.formData.ir_id_date,callback:function(t){e.$set(e.formData,"ir_id_date",t)},expression:"formData.ir_id_date"}},[a("el-select",{staticClass:"w100px",attrs:{slot:"select",disabled:e.editType},on:{change:e.changeBBIdLongTime},slot:"select",model:{value:e.formData.ir_id_longtime,callback:function(t){e.$set(e.formData,"ir_id_longtime",t)},expression:"formData.ir_id_longtime"}},e._l(e.Dict.CARD_LONGTIME,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"性别",prop:"ir_sex"}},[a("el-select",{staticClass:"w100",attrs:{disabled:e.editType},model:{value:e.formData.ir_sex,callback:function(t){e.$set(e.formData,"ir_sex",t)},expression:"formData.ir_sex"}},e._l(e.Dict.GENDER,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出生日期",prop:"ir_birthday"}},[a("el-date-picker",{attrs:{disabled:e.editType,"value-format":"yyyy-MM-dd",type:"date"},model:{value:e.formData.ir_birthday,callback:function(t){e.$set(e.formData,"ir_birthday",t)},expression:"formData.ir_birthday"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"工作单位",prop:"ir_company"}},[a("el-input",{model:{value:e.formData.ir_company,callback:function(t){e.$set(e.formData,"ir_company",t)},expression:"formData.ir_company"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"职业/工种",prop:"ir_job"}},[a("el-input",{model:{value:e.formData.ir_job,callback:function(t){e.$set(e.formData,"ir_job",t)},expression:"formData.ir_job"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"手机号",prop:"ir_phone"}},[a("el-input",{attrs:{maxlength:11},model:{value:e.formData.ir_phone,callback:function(t){e.$set(e.formData,"ir_phone",t)},expression:"formData.ir_phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"邮编",prop:"ir_postcode"}},[a("el-input",{attrs:{maxlength:6},model:{value:e.formData.ir_postcode,callback:function(t){e.$set(e.formData,"ir_postcode",t)},expression:"formData.ir_postcode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"邮箱",prop:"ir_email"}},[a("el-input",{model:{value:e.formData.ir_email,callback:function(t){e.$set(e.formData,"ir_email",t)},expression:"formData.ir_email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"详细地址",prop:"ir_addr"}},[a("el-input",{attrs:{maxlength:60},model:{value:e.formData.ir_addr,callback:function(t){e.$set(e.formData,"ir_addr",t)},expression:"formData.ir_addr"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"entry-boder"},[a("base-collapse-card",{staticClass:"form-item",attrs:{title:"受益人"}},[a("div",{attrs:{slot:"btn"},slot:"btn"},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return t.stopPropagation(),e.addFavoree(t)}}},[e._v("新增受益人")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"",prop:"f_type"}},[a("el-radio-group",{on:{change:e.fTypeChange},model:{value:e.formData.f_type,callback:function(t){e.$set(e.formData,"f_type",t)},expression:"formData.f_type"}},[a("el-radio",{attrs:{label:0}},[e._v("法定受益人")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("指定受益人")])],1)],1)],1)],1),e._v(" "),1===e.formData.f_type?a("div",e._l(e.formData.favoree,function(t,s){return a("el-row",{key:s,staticClass:"pr20"},[a("el-col",{staticClass:"mb15",attrs:{span:24}},[a("span",{staticClass:"title"},[e._v(" 第 "+e._s(s+1)+" 受益人")]),e._v(" "),s>0?a("el-button",{staticClass:"fr",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.removeFavoree(s)}}}):e._e()],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"受益比例",prop:"favoree."+s+".f_percent",rules:e.Rule.INS_EDIT.f_percent}},[a("el-input",{attrs:{maxlength:3},model:{value:t.f_percent,callback:function(a){e.$set(t,"f_percent",a)},expression:"item.f_percent"}},[a("i",{staticClass:"el-input__icon select-input-suffix",attrs:{slot:"suffix"},slot:"suffix"},[e._v("%")])])],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名",prop:"favoree."+s+".f_name",rules:e.Rule.INS_EDIT.f_percent}},[a("el-input",{attrs:{maxlength:10},model:{value:t.f_name,callback:function(a){e.$set(t,"f_name",a)},expression:"item.f_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件类型",prop:"favoree."+s+".f_id_type",rules:e.Rule.INS_EDIT.f_id_type}},[a("el-select",{staticClass:"w100",on:{change:function(a){return e.idTypeChange(t.f_id_type,t.rule_id_number,t.f_id_number,"favoree."+s+".f_id_number")}},model:{value:t.f_id_type,callback:function(a){e.$set(t,"f_id_type",a)},expression:"item.f_id_type"}},e._l(e.Dict.CARD_TYPE,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件号码",prop:"favoree."+s+".f_id_number",rules:t.rule_id_number}},[a("el-input",{on:{blur:function(a){return e.setUserInfo(t,"f_id_number","f_birthday","f_sex")}},model:{value:t.f_id_number,callback:function(a){e.$set(t,"f_id_number",a)},expression:"item.f_id_number"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"性别",prop:"favoree."+s+".f_sex",rules:e.Rule.INS_EDIT.f_sex}},[a("el-select",{staticClass:"w100",model:{value:t.f_sex,callback:function(a){e.$set(t,"f_sex",a)},expression:"item.f_sex"}},e._l(e.Dict.GENDER,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出生日期",prop:"favoree."+s+".f_birthday",rules:e.Rule.INS_EDIT.f_birthday}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date"},model:{value:t.f_birthday,callback:function(a){e.$set(t,"f_birthday",a)},expression:"item.f_birthday"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"手机号",prop:"favoree."+s+".f_phone",rules:e.Rule.INS_EDIT.f_phone}},[a("el-input",{attrs:{maxlength:11},model:{value:t.f_phone,callback:function(a){e.$set(t,"f_phone",a)},expression:"item.f_phone"}})],1)],1)],1)}),1):e._e()],1)],1),e._v(" "),a("div",{staticClass:"entry-boder"},[a("base-collapse-card",{staticClass:"form-item",attrs:{title:"险种资料"}},[a("div",{attrs:{slot:"btn"},slot:"btn"},[e.insDisable?e._e():a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return t.stopPropagation(),e.addInsType(1)}}},[e._v("添加主险")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return t.stopPropagation(),e.addInsType(2)}}},[e._v("添加附加险")])],1),e._v(" "),e._l(e.formData.master,function(t,s){return a("div",{key:"master_"+s,staticClass:"pr20"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"title"},[e._v(" 主险 "+e._s(s+1))]),e._v(" "),s>0&&!e.insDisable?a("el-button",{staticClass:"fr",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.removeInsType(e.formData.master,s)}}}):e._e()],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"险种代码",prop:"master."+s+".p_code",rules:e.Rule.INS_EDIT.p_code}},[a("el-select",{attrs:{disabled:e.insDisable,filterable:""},on:{change:function(a){return e.insChange(t,1)}},model:{value:t.p_code,callback:function(a){e.$set(t,"p_code",a)},expression:"item.p_code"}},e._l(e.masterSelects,function(t){return a("el-option",{key:t.p_id,attrs:{label:t.p_code,value:t.p_code}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.p_name))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.p_code))])])}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"险种名称",prop:"master."+s+".p_name"}},[a("el-input",{attrs:{disabled:""},model:{value:t.p_name,callback:function(a){e.$set(t,"p_name",a)},expression:"item.p_name"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保险期间",prop:"master."+s+".sp_bao_type",rules:e.Rule.INS_EDIT.sp_bao_type}},[a("el-input",{attrs:{disabled:e.insDisable||0===t.sp_bao_type},model:{value:t.sp_bao_time,callback:function(a){e.$set(t,"sp_bao_time",a)},expression:"item.sp_bao_time"}},[a("el-select",{staticClass:"w100px",attrs:{slot:"prepend",disabled:e.insDisable},on:{change:function(a){return e.changeBaoType(t)}},slot:"prepend",model:{value:t.sp_bao_type,callback:function(a){e.$set(t,"sp_bao_type",a)},expression:"item.sp_bao_type"}},e._l(e.Dict.PRODUCT_BAO_TYPE,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),1===t.sp_bao_type?a("i",{staticClass:"el-input__icon select-input-suffix",attrs:{slot:"suffix"},slot:"suffix"},[e._v("岁")]):e._e()],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"缴费期间",prop:"master."+s+".sp_pay_type",rules:e.Rule.INS_EDIT.sp_pay_type}},[a("el-input",{attrs:{disabled:e.insDisable},model:{value:t.sp_pay_time,callback:function(a){e.$set(t,"sp_pay_time",a)},expression:"item.sp_pay_time"}},[a("el-select",{staticClass:"w100px",attrs:{slot:"prepend",disabled:e.insDisable},slot:"prepend",model:{value:t.sp_pay_type,callback:function(a){e.$set(t,"sp_pay_type",a)},expression:"item.sp_pay_type"}},e._l(e.Dict.PRODUCT_PAY_TYPE,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),1===t.sp_pay_type?a("i",{staticClass:"el-input__icon select-input-suffix",attrs:{slot:"suffix"},slot:"suffix"},[e._v("岁")]):e._e()],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"缴费方式",prop:"master."+s+".sp_pay_way",rules:e.Rule.INS_EDIT.sp_pay_way}},[a("el-select",{staticClass:"w100",attrs:{disabled:e.insDisable},model:{value:t.sp_pay_way,callback:function(a){e.$set(t,"sp_pay_way",a)},expression:"item.sp_pay_way"}},e._l(e.Dict.PRODUCT_PAY_WAY,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"基本保险金额",prop:"master."+s+".sp_money",rules:e.Rule.INS_EDIT.sp_money}},[a("el-input",{attrs:{disabled:e.insDisable},model:{value:t.sp_money,callback:function(a){e.$set(t,"sp_money",a)},expression:"item.sp_money"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保费",prop:"master."+s+".sp_premium",rules:e.Rule.INS_EDIT.sp_premium}},[a("el-input",{attrs:{disabled:e.insDisable},on:{change:e.getPayFirst},model:{value:t.sp_premium,callback:function(a){e.$set(t,"sp_premium",a)},expression:"item.sp_premium"}})],1)],1)],1)],1)}),e._v(" "),e.formData.second.length>0?a("div",{staticClass:"split-line"}):e._e(),e._v(" "),e._l(e.formData.second,function(t,s){return a("div",{key:"second_"+s,staticClass:"pr20"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"title"},[e._v(" 附加险 "+e._s(s+1))]),e._v(" "),t.isDelete?a("el-button",{staticClass:"fr",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.removeInsType(e.formData.second,s)}}}):e._e()],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"险种代码",prop:"second."+s+".p_code",rules:e.Rule.INS_EDIT.p_code}},[a("el-select",{attrs:{filterable:"",disabled:e.insDisable&&!t.isDelete},on:{change:function(a){return e.insChange(t,2)}},model:{value:t.p_code,callback:function(a){e.$set(t,"p_code",a)},expression:"item.p_code"}},e._l(e.secondSelects,function(t){return a("el-option",{key:t.p_id,attrs:{label:t.p_code,value:t.p_code}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.p_name))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.p_code))])])}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"险种名称",prop:"master."+s+".p_name"}},[a("el-input",{attrs:{disabled:""},model:{value:t.p_name,callback:function(a){e.$set(t,"p_name",a)},expression:"item.p_name"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保险期间",prop:"second."+s+".sp_bao_type",rules:e.Rule.INS_EDIT.sp_bao_type}},[a("el-input",{attrs:{disabled:e.insDisable&&!t.isDelete||0===t.sp_bao_type},model:{value:t.sp_bao_time,callback:function(a){e.$set(t,"sp_bao_time",a)},expression:"item.sp_bao_time"}},[a("el-select",{staticClass:"w100px",attrs:{slot:"prepend",disabled:e.insDisable&&!t.isDelete},on:{change:function(a){return e.changeBaoType(t)}},slot:"prepend",model:{value:t.sp_bao_type,callback:function(a){e.$set(t,"sp_bao_type",a)},expression:"item.sp_bao_type"}},e._l(e.Dict.PRODUCT_BAO_TYPE,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),1===t.sp_bao_type?a("i",{staticClass:"el-input__icon select-input-suffix",attrs:{slot:"suffix"},slot:"suffix"},[e._v("岁")]):e._e()],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"缴费期间",prop:"second."+s+".sp_pay_type",rules:e.Rule.INS_EDIT.sp_pay_type}},[a("el-input",{attrs:{disabled:e.insDisable&&!t.isDelete},model:{value:t.sp_pay_time,callback:function(a){e.$set(t,"sp_pay_time",a)},expression:"item.sp_pay_time"}},[a("el-select",{staticClass:"w100px",attrs:{slot:"prepend",disabled:e.insDisable&&!t.isDelete},slot:"prepend",model:{value:t.sp_pay_type,callback:function(a){e.$set(t,"sp_pay_type",a)},expression:"item.sp_pay_type"}},e._l(e.Dict.PRODUCT_PAY_TYPE,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),1===t.sp_pay_type?a("i",{staticClass:"el-input__icon select-input-suffix",attrs:{slot:"suffix"},slot:"suffix"},[e._v("岁")]):e._e()],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"缴费方式",prop:"second."+s+".sp_pay_way",rules:e.Rule.INS_EDIT.sp_pay_way}},[a("el-select",{staticClass:"w100",attrs:{disabled:e.insDisable&&!t.isDelete},model:{value:t.sp_pay_way,callback:function(a){e.$set(t,"sp_pay_way",a)},expression:"item.sp_pay_way"}},e._l(e.Dict.PRODUCT_PAY_WAY,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"基本保险金额",prop:"second."+s+".sp_money",rules:e.Rule.INS_EDIT.sp_money}},[a("el-input",{attrs:{disabled:e.insDisable&&!t.isDelete},model:{value:t.sp_money,callback:function(a){e.$set(t,"sp_money",a)},expression:"item.sp_money"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保费",prop:"second."+s+".sp_premium",rules:e.Rule.INS_EDIT.sp_premium}},[a("el-input",{attrs:{disabled:e.insDisable&&!t.isDelete},on:{change:e.getPayFirst},model:{value:t.sp_premium,callback:function(a){e.$set(t,"sp_premium",a)},expression:"item.sp_premium"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否自动续费",prop:"second."+s+".sp_auto",rules:e.Rule.INS_EDIT.sp_auto}},[a("el-select",{staticClass:"w100",attrs:{disabled:e.insDisable&&!t.isDelete},model:{value:t.sp_auto,callback:function(a){e.$set(t,"sp_auto",a)},expression:"item.sp_auto"}},e._l(e.Dict.PRODUCT_AUTO,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1)],1)],1)})],2)],1),e._v(" "),a("div",{staticClass:"entry-boder"},[a("base-collapse-card",{staticClass:"form-item",attrs:{title:"付款信息"}},[a("el-row",{staticClass:"pr20"},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"首次保费合计",prop:"pay_first"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.pay_first,callback:function(t){e.$set(e.formData,"pay_first",t)},expression:"formData.pay_first"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"开户户主",prop:"pay_name"}},[a("el-input",{attrs:{maxlength:10},model:{value:e.formData.pay_name,callback:function(t){e.$set(e.formData,"pay_name",t)},expression:"formData.pay_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"开户银行",prop:"pay_bank"}},[a("select-bank",{model:{value:e.formData.pay_bank,callback:function(t){e.$set(e.formData,"pay_bank",t)},expression:"formData.pay_bank"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"银行卡号",prop:"pay_account"}},[a("el-input",{model:{value:e.formData.pay_account,callback:function(t){e.$set(e.formData,"pay_account",t)},expression:"formData.pay_account"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"逾期未付",prop:"overdue_status"}},[a("el-select",{staticClass:"w100",model:{value:e.formData.overdue_status,callback:function(t){e.$set(e.formData,"overdue_status",t)},expression:"formData.overdue_status"}},e._l(e.Dict.OVERDUE_STATUS,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1)],1)],1)],1),e._v(" "),"0"===e.actionType?a("div",{staticClass:"tc common-btn"},["0"===e.id?a("el-button",{directives:[{name:"has",rawName:"v-has",value:"TB_MANAGE_ADD",expression:"'TB_MANAGE_ADD'"}],attrs:{type:"success"},on:{click:e.save}},[e._v("保存")]):a("el-button",{directives:[{name:"has",rawName:"v-has",value:"TB_MANAGE_UPDATE",expression:"'TB_MANAGE_UPDATE'"}],attrs:{type:"success"},on:{click:e.save}},[e._v("保存")])],1):e._e(),e._v(" "),"1"===e.actionType?a("div",{staticClass:"tc common-btn"},["0"===e.id?a("el-button",{directives:[{name:"has",rawName:"v-has",value:"BD_MANAGE_ADD",expression:"'BD_MANAGE_ADD'"}],attrs:{type:"success"},on:{click:e.save}},[e._v("保存")]):a("el-button",{directives:[{name:"has",rawName:"v-has",value:"BD_MANAGE_UPDATE",expression:"'BD_MANAGE_UPDATE'"}],attrs:{type:"success"},on:{click:e.save}},[e._v("保存")])],1):e._e()])],1)},staticRenderFns:[]};var S=a("VU/8")(w,k,!1,function(e){a("iZFy")},"data-v-ad34f1e0",null);t.a=S.exports},AsSc:function(e,t){},Deoy:function(e,t,a){"use strict";t.a={activated:function(){this.init()}}},HJFN:function(e,t,a){"use strict";var s=a("Xxa5"),r=a.n(s),l=a("exGp"),o=a.n(l),n={props:["value","placeholder","isShowNull","disabled"],data:function(){return{myValue:"",list:[]}},created:function(){this.myValue=this.value||"",this.init()},methods:{init:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}},t,e)}))()},getData:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.send("SELECT_ORGANI_LIST",{o_name:"",o_g_id:"",o_status:1});case 2:(a=t.sent)&&0===a.status_code&&(e.list=a.result);case 4:case"end":return t.stop()}},t,e)}))()},change:function(){this.$emit("input",this.myValue)}},watch:{value:function(e){this.myValue=e}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{staticClass:"w100",attrs:{placeholder:e.placeholder,clearable:"",disabled:e.disabled},on:{change:e.change},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:"myValue"}},[e.isShowNull?a("el-option",{attrs:{label:"请选择",value:""}}):e._e(),e._v(" "),e._l(e.list,function(e){return a("el-option",{key:e.o_id,attrs:{value:e.o_id,label:e.o_name}})})],2)],1)},staticRenderFns:[]},c=a("VU/8")(n,i,!1,null,null,null);t.a=c.exports},K4R9:function(e,t,a){a("NA/8"),e.exports=a("FeBl").Number.isNaN},MICi:function(e,t,a){e.exports={default:a("K4R9"),__esModule:!0}},"NA/8":function(e,t,a){var s=a("kM2E");s(s.S,"Number",{isNaN:function(e){return e!=e}})},OVbX:function(e,t){},"Ob/D":function(e,t,a){"use strict";var s=a("Xxa5"),r=a.n(s),l=a("exGp"),o=a.n(l),n={props:["value","placeholder","isShowNull","editType","disabled"],data:function(){return{myValue:"",list:[]}},created:function(){this.myValue=this.value||"",this.init()},methods:{init:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}},t,e)}))()},getData:function(){var e=this;return o()(r.a.mark(function t(){var a,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={},"add"===e.editType&&(a.search_status=1),t.next=4,e.$axios.send("SELECT_COMPANY_LIST",a);case 4:(s=t.sent)&&0===s.status_code&&(e.list=s.result);case 6:case"end":return t.stop()}},t,e)}))()},change:function(){this.$emit("input",this.myValue),this.$emit("change",this.myValue)}},watch:{value:function(e){this.myValue=e}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{staticClass:"w100",attrs:{disabled:e.disabled,placeholder:e.placeholder,clearable:""},on:{change:e.change},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:"myValue"}},[e.isShowNull?a("el-option",{attrs:{label:"请选择",value:""}}):e._e(),e._v(" "),e._l(e.list,function(e){return a("el-option",{key:e.c_id,attrs:{value:e.c_id,label:e.c_name}})})],2)],1)},staticRenderFns:[]},c=a("VU/8")(n,i,!1,null,null,null);t.a=c.exports},QPvk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),r=a.n(s),l=a("exGp"),o=a.n(l),n={data:function(){return{id:null,formData:{pay_current_time:new Date}}},created:function(){this.init()},methods:{init:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.id=e.$route.params.id,"0"===e.id){t.next=4;break}return t.next=4,e.getDetail();case 4:case"end":return t.stop()}},t,e)}))()},getDetail:function(){var e=this;return o()(r.a.mark(function t(){var a,s,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.send("BD_RENEWAL_DETAIL",{s_id:e.id});case 2:if((a=t.sent)&&0===a.status_code){for(s=0;s<a.result.products.length;s++)l=a.result.products[s],a.result.products[s].ip_premium=l.last_premium,a.result.products[s].title=1===l.sp_property?"主险":"附加险";e.formData=a.result}case 4:case"end":return t.stop()}},t,e)}))()},save:function(){var e=this;return o()(r.a.mark(function t(){var a,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.buildData(),t.next=3,e.$axios.send("BD_RENEWAL_SAVE",a);case 3:(s=t.sent)&&0===s.status_code&&(e.$message.success(s.message),e.$router.go(-1));case 5:case"end":return t.stop()}},t,e)}))()},goback:function(){this.$router.go(-1)},buildData:function(){for(var e={products:[],s_id:this.id,pay_current_time:this.formData.pay_current_time},t=0;t<this.formData.products.length;t++){var a={p_id:this.formData.products[t].p_id,ip_premium:this.formData.products[t].ip_premium,p_property:this.formData.products[t].p_property};e.products.push(a)}return e}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"header-title"},[e._v(e._s(e.$route.name))]),e._v(" "),a("div",{staticClass:"mb10"}),e._v(" "),a("el-row",{staticClass:"pd20"},[a("el-form",{attrs:{model:e.formData,"label-suffix":"：","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"机构"}},[e._v(e._s(e.formData.o_name))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保险公司"}},[e._v(e._s(e.formData.c_name))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保单号"}},[e._v(e._s(e.formData.bd_code))])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"投保人"}},[e._v(e._s(e.formData.tb_name))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理人"}},[e._v(e._s(e.formData.ag_name))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保单生效日期"}},[e._v(e._s(e.formData.bd_time))])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"缴费期数"}},[e._v(e._s(e.formData.total_pay_num))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已缴费次数"}},[e._v(e._s(e.formData.pay_num))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"被保人"}},[e._v(e._s(e.formData.ir_name))])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"上期缴费时间"}},[e._v(e._s(e.formData.pay_last_time))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"本期缴费时间"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"date"},model:{value:e.formData.pay_current_time,callback:function(t){e.$set(e.formData,"pay_current_time",t)},expression:"formData.pay_current_time"}})],1)],1)],1),e._v(" "),e._l(e.formData.products,function(t){return a("el-row",{key:t.s_id},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:t.title+"名称"}},[e._v("\n            "+e._s(t.p_name)+"\n          ")])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:t.title+"上期缴费"}},[e._v("\n            "+e._s(t.last_premium)+"\n          ")])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:t.title+"续期缴费"}},[a("el-input",{staticClass:"w200px",model:{value:t.ip_premium,callback:function(a){e.$set(t,"ip_premium",a)},expression:"product.ip_premium"}})],1)],1)],1)}),e._v(" "),a("el-row",[a("el-col",{staticClass:"tc",attrs:{span:24}},[a("el-button",{attrs:{type:"success"},on:{click:e.save}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:""},on:{click:e.goback}},[e._v("返回")])],1)],1)],2)],1)],1)},staticRenderFns:[]};var c=a("VU/8")(n,i,!1,function(e){a("9o7Q")},"data-v-42da69b4",null);t.default=c.exports},Rkkk:function(e,t){},SZQR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={components:{FormInsDetail:a("i2z1").a}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("form-ins-detail",{attrs:{"action-type":1}})],1)},staticRenderFns:[]},l=a("VU/8")(s,r,!1,null,null,null);t.default=l.exports},csDp:function(e,t,a){"use strict";var s={props:{title:{type:String,required:!0}},data:function(){return{activeName:"1"}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-collapse-item",{staticClass:"customer-title",attrs:{name:"1"}},[a("template",{slot:"title"},[e.title?a("span",{staticClass:"title"},[e._v(e._s(e.title))]):e._e(),e._v(" "),a("div",{staticClass:"btn"},[e._t("btn")],2)]),e._v(" "),a("div",{staticClass:"container-body"},[e._t("default")],2)],2)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(s,r,!1,function(e){a("0gVd")},"data-v-64826c18",null);t.a=l.exports},i2z1:function(e,t,a){"use strict";var s=a("Xxa5"),r=a.n(s),l=a("exGp"),o=a.n(l),n={props:{actionType:{type:Number}},data:function(){return{id:null,formData:{}}},created:function(){this.id=this.$route.params.id,this.init()},methods:{init:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getDetail();case 2:case"end":return t.stop()}},t,e)}))()},close:function(){window.close()},getDetail:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.send("TB_MANAGE_DETAIL","",{s_id:e.id});case 2:(a=t.sent)&&0===a.status_code&&(e.formData=a.result);case 4:case"end":return t.stop()}},t,e)}))()}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"header-title"},[e._v(e._s(e.$route.name))]),e._v(" "),a("el-card",{staticClass:"p20"},[Object.keys(e.formData).length>0?a("el-form",{attrs:{model:e.formData,"label-suffix":"："}},[a("div",{staticClass:"detail-item"},[a("p",{staticClass:"detail-title"},[e._v("基本信息")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保险公司"}},[e._v(e._s(e.formData.c_name))])],1),e._v(" "),1===e.actionType?a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"投保单"}},[e._v(e._s(e.formData.tb_code))])],1):e._e(),e._v(" "),2===e.actionType?a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保单"}},[e._v(e._s(e.formData.bd_code))])],1):e._e()],1)],1),e._v(" "),a("div",{staticClass:"detail-item"},[a("p",{staticClass:"detail-title"},[e._v("代理人")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理人工号"}},[e._v(e._s(e.formData.ag_job_number))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理人名称"}},[e._v(e._s(e.formData.ag_name))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"销售机构代码"}},[e._v(e._s(e.formData.o_code))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"销售机构名称"}},[e._v(e._s(e.formData.o_name))])],1),e._v(" "),1===e.actionType?a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"投保日期"}},[e._v(e._s(e.formData.tb_date))])],1):e._e(),e._v(" "),2===e.actionType?a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"生效日期"}},[e._v(e._s(e.formData.bd_time))])],1):e._e()],1)],1),e._v(" "),a("div",{staticClass:"detail-item"},[a("p",{staticClass:"detail-title"},[e._v("投保人")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名"}},[e._v(e._s(e.formData.tb_name))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件类型"}},[e._v(e._s(e._f("dict")(e.formData.tb_id_type,"CARD_TYPE")))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件号码"}},[e._v(e._s(e.formData.tb_id_number))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"性别"}},[e._v(e._s(e._f("dict")(e.formData.tb_sex,"GENDER")))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出生日期"}},[e._v(e._s(e.formData.tb_birthday))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件有效期"}},[1===e.formData.tb_id_longtime?a("span",[e._v("长期")]):e._e(),e._v(" "),0===e.formData.tb_id_longtime?a("span",[e._v(e._s(e.formData.tb_id_date))]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"工作单位"}},[e._v(e._s(e.formData.tb_company))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"职业工种"}},[e._v(e._s(e.formData.tb_job))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"手机号码"}},[e._v(e._s(e.formData.tb_phone))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"邮编"}},[e._v(e._s(e.formData.tb_postcode))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"邮箱"}},[e._v(e._s(e.formData.tb_email))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"详细地址"}},[e._v(e._s(e.formData.tb_addr))])],1)],1)],1),e._v(" "),a("div",{staticClass:"detail-item"},[a("p",{staticClass:"detail-title"},[e._v("被保人")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"与投保人关系"}},[e._v(e._s(e._f("dict")(e.formData.bb_tb_relation,"PERSON_RELATION")))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名"}},[e._v(e._s(e.formData.recognizee.ir_name))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件类型"}},[e._v(e._s(e._f("dict")(e.formData.recognizee.ir_id_type,"CARD_TYPE")))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件号码"}},[e._v(e._s(e.formData.recognizee.ir_id_number))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"性别"}},[e._v(e._s(e._f("dict")(e.formData.recognizee.ir_sex,"GENDER")))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出生日期"}},[e._v(e._s(e.formData.recognizee.ir_birthday))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件有效期"}},[0===e.formData.recognizee.ir_id_longtime?a("span",[e._v(e._s(e.formData.recognizee.ir_id_date))]):e._e(),e._v(" "),1===e.formData.recognizee.ir_id_longtime?a("span",[e._v("长期")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"工作单位"}},[e._v(e._s(e.formData.recognizee.ir_company))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"职业工种"}},[e._v(e._s(e.formData.recognizee.ir_job))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"手机号码"}},[e._v(e._s(e.formData.recognizee.ir_phone))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"邮编"}},[e._v(e._s(e.formData.recognizee.ir_postcode))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"邮箱"}},[e._v(e._s(e.formData.recognizee.ir_email))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"详细地址"}},[e._v(e._s(e.formData.recognizee.ir_addr))])],1)],1)],1),e._v(" "),a("div",{staticClass:"detail-item"},[a("p",{staticClass:"detail-title"},[e._v("受益人")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"受益人类型"}},[e._v(e._s(e._f("dict")(e.formData.f_type,"BENEFICIARY")))])],1)],1),e._v(" "),1===e.formData.f_type?e._l(e.formData.favoree,function(t,s){return a("el-row",{key:t.name},[a("el-col",{attrs:{span:8}},[a("el-form-item",[e._v("第 "+e._s(s+1)+" 受益人")])],1),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"收益比例"}},[e._v(e._s(t.f_percent)+"%")])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名"}},[e._v(e._s(t.f_name))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件类型"}},[e._v(e._s(e._f("dict")(t.f_id_type,"CARD_TYPE")))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件号码"}},[e._v(e._s(t.f_id_number))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"性别"}},[e._v(e._s(e._f("dict")(t.f_sex,"GENDER")))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出生日期"}},[e._v(e._s(t.f_birthday))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"手机号"}},[e._v(e._s(t.f_phone))])],1)],1)}):e._e()],2),e._v(" "),a("div",{staticClass:"detail-item"},[a("p",{staticClass:"detail-title"},[e._v("险种资料")]),e._v(" "),e._l(e.formData.products,function(t){return a("el-row",{key:t.name},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"险种类型"}},[e._v(e._s(e._f("dict")(t.sp_property,"PRODUCT_TYPE")))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"险种代码"}},[e._v(e._s(t.p_code))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"险种名称"}},[e._v(e._s(t.p_name))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保险期间"}},[0===t.sp_bao_type?a("span",[e._v(e._s(e._f("dict")(t.sp_bao_type,"PRODUCT_BAO_TYPE")))]):1===t.sp_bao_type?a("span",[e._v(e._s(e._f("dict")(t.sp_bao_type,"PRODUCT_BAO_TYPE"))+" - "+e._s(t.sp_bao_time)+" 岁")]):a("span",[e._v(e._s(t.sp_bao_time)+" "+e._s(e._f("dict")(t.sp_bao_type,"PRODUCT_BAO_TYPE")))])])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"缴费期间"}},[1===t.sp_pay_type?a("span",[e._v(e._s(e._f("dict")(t.sp_pay_type,"PRODUCT_PAY_TYPE"))+" "+e._s(t.sp_pay_time)+" 岁")]):e._e(),e._v(" "),2===t.sp_pay_type?a("span",[e._v(e._s(t.sp_pay_time)+" 年")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"缴费方式"}},[e._v(e._s(e._f("dict")(t.sp_pay_way,"PRODUCT_PAY_WAY")))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"基本保险金额"}},[e._v(e._s(t.sp_money))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保费"}},[e._v(e._s(t.sp_premium))])],1)],1)})],2),e._v(" "),a("div",{staticClass:"detail-item"},[a("p",{staticClass:"detail-title"},[e._v("缴费信息")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"首期保费合计"}},[e._v(e._s(e.formData.pay_first))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"开户户主"}},[e._v(e._s(e.formData.pay_name))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"开户银行"}},[e._v(e._s(e.formData.pay_bank_name))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"银行卡号"}},[e._v(e._s(e.formData.pay_account))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"逾期未付"}},[-1===e.formData.overdue_status?a("span"):a("span",[e._v(e._s(e._f("dict")(e.formData.overdue_status,"OVERDUE_STATUS")))])])],1),e._v(" "),a("el-col",{staticClass:"common-btn",attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},on:{click:e.close}},[e._v("关闭")])],1)],1)],1)]):e._e()],1)],1)},staticRenderFns:[]};var c=a("VU/8")(n,i,!1,function(e){a("AsSc")},"data-v-c1c415ca",null);t.a=c.exports},iZFy:function(e,t){},nOrf:function(e,t){},oLo2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),r=a.n(s),l=a("exGp"),o=a.n(l),n=a("lbHh"),i=a.n(n),c=a("PcmU"),_=a("Ob/D"),u=a("HJFN"),m=a("gHwQ"),p={name:"InsuranceRenewalList",mixins:[c.a],components:{SelectCompany:_.a,SelectOrganization:u.a,BaseDialog:m.a},data:function(){return{agentSelects:[],searchData:{search_status:""},tableData:{data:[],total:0,current_page:1,perPage:10},dialog:{reassign:!1},reassignForm:{it_rate:"",it_type:0,new_ag_id:""},currSelected:null}},methods:{query:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o()(r.a.mark(function a(){var s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.searchData.perPage=10,e.searchData.page=t,a.next=4,e.$axios.send("BD_RENEWAL_POLICY",e.searchData);case 4:(s=a.sent)&&0===s.status_code&&(e.tableData=s.result.listData);case 6:case"end":return a.stop()}},a,e)}))()},getAgentByCode:function(e,t){var a=this;return o()(r.a.mark(function t(){var s,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=JSON.parse(i.a.get("user")),t.next=3,a.$axios.send("AGENT_MENAGE_LIST",{ag_name:e,o_id:s.o_id});case 3:(l=t.sent)&&0===l.status_code&&(a.agentSelects=l.result);case 5:case"end":return t.stop()}},t,a)}))()},renewalAction:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$router.push({name:"续期缴费",params:{id:e.currSelected.s_id}});case 1:case"end":return t.stop()}},t,e)}))()},redistrDialog:function(){this.dialog.reassign=!0,this.$refs.reassignForm.resetFields()},redistrAction:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.reassignForm.s_id=e.currSelected.s_id,e.$refs.reassignForm.validate(function(){var t=o()(r.a.mark(function t(a){var s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=6;break}return e.reassignForm.it_rate="50",t.next=4,e.$axios.send("BD_REDISTR_SAVE",e.reassignForm);case 4:(s=t.sent)&&0===s.status_code&&(e.$message.success("再分配成功"),e.dialog.reassign=!1,e.query());case 6:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,e)}))()}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"header-title"},[e._v(e._s(e.$route.name))]),e._v(" "),a("div",{staticClass:"mb30"}),e._v(" "),a("el-form",{staticClass:"common-padding",attrs:{model:e.searchData,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"机构选择"}},[a("select-organization",{attrs:{isShowNull:!0},model:{value:e.searchData.search_oid,callback:function(t){e.$set(e.searchData,"search_oid",t)},expression:"searchData.search_oid"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保险公司"}},[a("select-company",{attrs:{isShowNull:!0},model:{value:e.searchData.search_cid,callback:function(t){e.$set(e.searchData,"search_cid",t)},expression:"searchData.search_cid"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保单号"}},[a("el-input",{model:{value:e.searchData.search_bd_code,callback:function(t){e.$set(e.searchData,"search_bd_code",t)},expression:"searchData.search_bd_code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"投保人姓名"}},[a("el-input",{model:{value:e.searchData.search_tb_name,callback:function(t){e.$set(e.searchData,"search_tb_name",t)},expression:"searchData.search_tb_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理人姓名"}},[a("el-input",{model:{value:e.searchData.search_ag_name,callback:function(t){e.$set(e.searchData,"search_ag_name",t)},expression:"searchData.search_ag_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保单状态"}},[a("el-select",{staticClass:"w100",model:{value:e.searchData.search_status,callback:function(t){e.$set(e.searchData,"search_status",t)},expression:"searchData.search_status"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.Dict.TB_STATUS,function(t){return[t.value>5?a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}}):e._e()]})],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:""}},[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"BD_RENEWAL_POLICY",expression:"'BD_RENEWAL_POLICY'"}],attrs:{type:"primary"},on:{click:function(t){return e.query(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"BD_RENEWAL_SAVE",expression:"'BD_RENEWAL_SAVE'"}],attrs:{type:"primary",disabled:!e.currSelected},on:{click:e.renewalAction}},[e._v("续期缴费")]),e._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"BD_REDISTR_SAVE",expression:"'BD_REDISTR_SAVE'"}],attrs:{type:"primary",disabled:!e.currSelected},on:{click:e.redistrDialog}},[e._v("再分配")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"common-padding"},[a("el-table",{attrs:{data:e.tableData.data,"highlight-current-row":"",border:""},on:{"current-change":e.tableItemSelect}},[a("el-table-column",{attrs:{width:"80",label:"选择",fixed:"",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:!0,name:"selected"},model:{value:t.row.selected,callback:function(a){e.$set(t.row,"selected",a)},expression:"scope.row.selected"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"序号",width:"50",type:"index"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"180",label:"机构名称",prop:"o_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"230",label:"保险公司",prop:"c_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"180",label:"保单号",prop:"bd_code"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"投保人",prop:"tb_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"被保人",prop:"ir_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"代理人",prop:"ag_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:"保单生效日期",prop:"bd_time"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"保单状态",prop:"tb_status"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("dict")(t.row.tb_status,"TB_STATUS"))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"60",label:"已缴费次数",prop:"pay_num"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:"上次缴费时间",prop:"pay_current_time"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:"下次缴费时间",prop:"next_pay_time"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"60",label:"缴费年限",prop:"total_pay_num"}})],1)],1)]),e._v(" "),a("el-col",{staticClass:"common-paging tr",attrs:{span:24}},[a("div",{staticClass:"footer-page"},[e.tableData.total>0?a("div",{staticClass:"common-paging"},[a("el-pagination",{attrs:{"current-page":e.tableData.current_page,"page-size":10,layout:"total, prev, pager, next, jumper",total:e.tableData.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()])])],1),e._v(" "),a("base-dialog",{attrs:{title:"再分配",isshow:e.dialog.reassign,width:"575px",height:"575px"},on:{"update:isshow":function(t){return e.$set(e.dialog,"reassign",t)}}},[a("section",{staticClass:"dialog-center pt20"},[a("el-form",{ref:"reassignForm",attrs:{model:e.reassignForm,rules:e.Rule.BD_REASSIGN,"label-width":"130px","label-suffix":"："}},[a("el-row",[a("el-col",{staticClass:"mb10",attrs:{span:22,offset:2}},[e._v("分配前：")]),e._v(" "),e.currSelected?a("el-col",{staticClass:"mb10",attrs:{span:21,offset:3}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"所属机构"}},[e._v("\n                  "+e._s(e.currSelected.o_name)+"\n                ")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"保险公司"}},[e._v("\n                  "+e._s(e.currSelected.c_name)+"\n                ")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"保单号"}},[e._v("\n                  "+e._s(e.currSelected.bd_code)+"\n                ")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"投保人"}},[e._v("\n                  "+e._s(e.currSelected.tb_name)+"\n                ")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"分配前代理人"}},[e._v("\n                  "+e._s(e.currSelected.ag_name)+"\n                ")])],1)],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{span:22,offset:2}},[e._v("分配后：")]),e._v(" "),a("el-col",{attrs:{span:21,offset:3}},[a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:"分配类型"}},[a("el-radio-group",{model:{value:e.reassignForm.it_type,callback:function(t){e.$set(e.reassignForm,"it_type",t)},expression:"reassignForm.it_type"}},e._l(e.Dict.ASSIGN_TYPE,function(t){return a("el-radio",{key:t.vaule,attrs:{label:t.value}},[e._v(e._s(t.label))])}),1)],1),e._v(" "),a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:"佣金比例"}},[e._v("\n              50%\n            ")]),e._v(" "),a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:"分配后代理人"}},[a("el-select",{staticClass:"agent-select",attrs:{filterable:"",remote:"","remote-method":e.getAgentByCode},model:{value:e.reassignForm.new_ag_id,callback:function(t){e.$set(e.reassignForm,"new_ag_id",t)},expression:"reassignForm.new_ag_id"}},e._l(e.agentSelects,function(t){return a("el-option",{key:t.ag_id,attrs:{label:t.ag_name,value:t.ag_id}},[a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.ag_job_number))]),e._v(" "),a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.ag_name))])])}),1)],1)],1)],1)],1)],1),e._v(" "),a("section",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.redistrAction}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialog.reassign=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]};var f=a("VU/8")(p,d,!1,function(e){a("OVbX")},"data-v-8b968c8a",null);t.default=f.exports},od8T:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),r=a.n(s),l=a("exGp"),o=a.n(l),n=a("PJh5"),i=a.n(n),c=a("PcmU"),_=a("A7zI"),u=a("Ob/D"),m=a("HJFN"),p={props:["value","placeholder","isShowNull","cid"],data:function(){return{myValue:"",list:[]}},created:function(){this.myValue=this.value||"",this.init()},methods:{init:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}},t,e)}))()},getData:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.send("SELECT_PRODUCT_LIST",{search_cid:e.cid||""});case 2:(a=t.sent)&&0===a.status_code&&(e.list=a.result);case 4:case"end":return t.stop()}},t,e)}))()},change:function(){this.$emit("input",this.myValue)}},watch:{value:function(e){this.myValue=e},cid:function(){this.init(),this.$emit("input","")}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{staticClass:"w100",attrs:{placeholder:e.placeholder,clearable:""},on:{change:e.change},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:"myValue"}},[e.isShowNull?a("el-option",{attrs:{label:"请选择",value:""}}):e._e(),e._v(" "),e._l(e.list,function(e){return a("el-option",{key:e.p_id,attrs:{value:e.p_id,label:e.p_name}})})],2)],1)},staticRenderFns:[]},f=a("VU/8")(p,d,!1,null,null,null).exports,b=a("gHwQ"),v=a("zL8q"),h={name:"InsurancePolicyList",mixins:[c.a],components:{SelectCompany:u.a,SelectOrganization:m.a,SelectAllProduct:f,BaseDialog:b.a,HasDetail:_.a},data:function(){return{searchData:{search_status:""},tableData:{data:[],total:0,current_page:1,perPage:10},dialog:{policyDate:!1,changeStatus:!1},changeStatusForm:{tb_status:""},policyDateForm:{s_id:"",new_date:"",title:""},currSelected:null}},methods:{query:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o()(r.a.mark(function a(){var s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.searchData.perPage=10,e.searchData.page=t,a.next=4,e.$axios.send("BD_MANAGE_LIST",e.searchData);case 4:(s=a.sent)&&0===s.status_code&&(e.tableData=s.result.listData);case 6:case"end":return a.stop()}},a,e)}))()},edit:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$router.push({name:"保单修改",params:{actionType:1,id:e.currSelected.s_id}});case 1:case"end":return t.stop()}},t,e)}))()},changeStatusDiglog:function(){this.dialog.changeStatus=!0,this.$refs.changeStatusForm.resetFields()},changeStatus:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.changeStatusForm.validate();case 2:if(!t.sent){t.next=11;break}return e.changeStatusForm.s_id=e.currSelected.s_id,t.next=7,e.$axios.send("TB_MANAGE_CHANGE_STATUS",e.changeStatusForm);case 7:(a=t.sent)&&0===a.status_code&&v.Message.success("状态变更成功"),e.dialog.changeStatus=!1,e.query(1);case 11:case"end":return t.stop()}},t,e)}))()},policyDateDiglog:function(e){this.policyDateForm.title=1===e?"回执日期":"回访日期",this.$refs.policyDateForm.resetFields(),this.dialog.policyDate=!0,this.policyDateForm.action_type=e,this.policyDateForm.marker=1===e?"BD_POLICY_DATE_RETURN":"BD_POLICY_DATE_RECEIPT";var t="";t=1===e?"-"===this.currSelected.receipt_date?void 0:this.currSelected.receipt_date:"-"===this.currSelected.callback_date?void 0:this.currSelected.callback_date,this.policyDateForm.new_date=i()(t).format("YYYY-MM-DD")},policyDateAction:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.policyDateForm.validate();case 2:if(!t.sent){t.next=11;break}return e.policyDateForm.s_id=e.currSelected.s_id,t.next=7,e.$axios.send(e.policyDateForm.marker,e.policyDateForm);case 7:(a=t.sent)&&0===a.status_code&&e.$message.success(e.policyDateForm.title+"录入成功"),e.dialog.policyDate=!1,e.query(1);case 11:case"end":return t.stop()}},t,e)}))()}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"header-title"},[e._v(e._s(e.$route.name))]),e._v(" "),a("div",{staticClass:"mb30"}),e._v(" "),a("el-form",{staticClass:"common-padding",attrs:{model:e.searchData,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"机构选择"}},[a("select-organization",{attrs:{isShowNull:!0},model:{value:e.searchData.search_oid,callback:function(t){e.$set(e.searchData,"search_oid",t)},expression:"searchData.search_oid"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保险公司"}},[a("select-company",{attrs:{isShowNull:!0},model:{value:e.searchData.search_cid,callback:function(t){e.$set(e.searchData,"search_cid",t)},expression:"searchData.search_cid"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保单号"}},[a("el-input",{model:{value:e.searchData.search_bd_code,callback:function(t){e.$set(e.searchData,"search_bd_code",t)},expression:"searchData.search_bd_code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"投保人姓名"}},[a("el-input",{model:{value:e.searchData.search_tb_name,callback:function(t){e.$set(e.searchData,"search_tb_name",t)},expression:"searchData.search_tb_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理人姓名"}},[a("el-input",{model:{value:e.searchData.search_ag_name,callback:function(t){e.$set(e.searchData,"search_ag_name",t)},expression:"searchData.search_ag_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保单状态"}},[a("el-select",{staticClass:"w100",model:{value:e.searchData.search_status,callback:function(t){e.$set(e.searchData,"search_status",t)},expression:"searchData.search_status"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.Dict.TB_STATUS,function(t){return[t.value>5?a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}}):e._e()]})],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}}),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"险种信息"}},[a("select-all-product",{attrs:{cid:e.searchData.search_cid},model:{value:e.searchData.search_pid,callback:function(t){e.$set(e.searchData,"search_pid",t)},expression:"searchData.search_pid"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:""}},[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"BD_MANAGE_LIST",expression:"'BD_MANAGE_LIST'"}],attrs:{type:"primary"},on:{click:function(t){return e.query(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"BD_MANAGE_UPDATE",expression:"'BD_MANAGE_UPDATE'"}],attrs:{type:"warning",disabled:!e.currSelected},on:{click:e.edit}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"BD_POLICY_DATE_RETURN",expression:"'BD_POLICY_DATE_RETURN'"}],attrs:{type:"primary",disabled:!e.currSelected},on:{click:function(t){return e.policyDateDiglog(1)}}},[e._v("回执录入")]),e._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"BD_POLICY_DATE_RECEIPT",expression:"'BD_POLICY_DATE_RECEIPT'"}],attrs:{type:"primary",disabled:!e.currSelected},on:{click:function(t){return e.policyDateDiglog(2)}}},[e._v("回访录入")]),e._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"BD_MANAGE_CHANGE_STATUS",expression:"'BD_MANAGE_CHANGE_STATUS'"}],attrs:{type:"primary",disabled:!e.currSelected},on:{click:e.changeStatusDiglog}},[e._v("状态变更")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"common-padding"},[a("el-table",{attrs:{data:e.tableData.data,"highlight-current-row":"",border:""},on:{"current-change":e.tableItemSelect}},[a("el-table-column",{attrs:{width:"80",label:"选择",fixed:"",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:!0,name:"selected"},model:{value:t.row.selected,callback:function(a){e.$set(t.row,"selected",a)},expression:"scope.row.selected"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"序号",width:"50",type:"index"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"240",label:"保险公司",prop:"c_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"180",label:"保单号",prop:"bd_code"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("has-detail",{attrs:{href:"#/app/InsurancePolicy/Detail/"+t.row.s_id,marker:"BD_MANAGE_DETAIL"}},[e._v("\n              "+e._s(t.row.bd_code)+"\n            ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"200",label:"机构名称",prop:"o_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"投保人",prop:"tb_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"被保人",prop:"ir_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"代理人",prop:"ag_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"保单状态",prop:"tb_status"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("dict")(t.row.tb_status,"TB_STATUS"))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:"状态变更日期",prop:"status_time"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:"投保日期",prop:"tb_date"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:"承保日期",prop:"bd_time"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:"回执日期",prop:"receipt_date"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:"回访日期",prop:"callback_date"}})],1)],1)]),e._v(" "),a("el-col",{staticClass:"common-paging tr",attrs:{span:24}},[a("div",{staticClass:"footer-page"},[e.tableData.total>0?a("div",{staticClass:"common-paging"},[a("el-pagination",{attrs:{"current-page":e.tableData.current_page,"page-size":10,layout:"total, prev, pager, next, jumper",total:e.tableData.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()])])],1),e._v(" "),a("base-dialog",{attrs:{title:"状态变更",isshow:e.dialog.changeStatus,width:"513px",height:"375px"},on:{"update:isshow":function(t){return e.$set(e.dialog,"changeStatus",t)}}},[a("section",{staticClass:"dialog-center pt20"},[a("el-form",{ref:"changeStatusForm",attrs:{model:e.changeStatusForm,"label-width":"120px","label-suffix":"："}},[a("el-row",[a("el-col",{attrs:{span:22,offset:2}},[a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:"变更前状态"}},[e.currSelected?a("span",[e._v(" "+e._s(e._f("dict")(e.currSelected.tb_status,"TB_STATUS")))]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:22,offset:2}},[a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:"变更后状态",prop:"tb_status",rules:[{required:!0,message:"状态变更后还未选择",trigger:"change"}]}},[a("el-radio-group",{model:{value:e.changeStatusForm.tb_status,callback:function(t){e.$set(e.changeStatusForm,"tb_status",t)},expression:"changeStatusForm.tb_status"}},[a("el-row",[a("el-col",{staticClass:"mb20",attrs:{span:24}},[a("el-radio",{attrs:{label:6}},[e._v("生  效  中")]),e._v(" "),a("el-radio",{attrs:{label:7}},[e._v("欠费中止 ")]),e._v(" "),a("el-radio",{attrs:{label:8}},[e._v("欠费终止")])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-radio",{attrs:{label:9}},[e._v("退保终止 ")]),e._v(" "),a("el-radio",{attrs:{label:10}},[e._v("理赔终止")]),e._v(" "),a("el-radio",{attrs:{label:11}},[e._v("到期终止")])],1)],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:20,offset:2}},[a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:"变更日期",rules:[{required:!0,message:"日期不能为空",trigger:"change"}]}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date"},model:{value:e.changeStatusForm.status_time,callback:function(t){e.$set(e.changeStatusForm,"status_time",t)},expression:"changeStatusForm.status_time"}})],1)],1)],1)],1)],1),e._v(" "),a("section",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.changeStatus}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialog.changeStatus=!1}}},[e._v("取 消")])],1)]),e._v(" "),a("base-dialog",{attrs:{title:e.policyDateForm.title,isshow:e.dialog.policyDate,width:"475px",height:"475px"},on:{"update:isshow":function(t){return e.$set(e.dialog,"policyDate",t)}}},[a("section",{staticClass:"dialog-center pt20"},[a("el-form",{ref:"policyDateForm",attrs:{model:e.policyDateForm,"label-width":"100px","label-suffix":"："}},[a("el-row",[a("el-col",{attrs:{span:16,offset:3}},[a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:"保险公司"}},[e.currSelected?a("span",[e._v(e._s(e.currSelected.c_name))]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:16,offset:3}},[a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:"保单号"}},[e.currSelected?a("span",[e._v(e._s(e.currSelected.bd_code))]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:16,offset:3}},[a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:"机构名称"}},[e.currSelected?a("span",[e._v(e._s(e.currSelected.o_name))]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:16,offset:3}},[a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:"投保人"}},[e.currSelected?a("span",[e._v(e._s(e.currSelected.tb_name))]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:16,offset:3}},[a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:e.policyDateForm.title,prop:"new_date",rules:[{required:!0,message:"日期不能为空",trigger:"blur"}]}},[a("el-date-picker",{staticClass:"w100",attrs:{"value-format":"yyyy-MM-dd",type:"date"},model:{value:e.policyDateForm.new_date,callback:function(t){e.$set(e.policyDateForm,"new_date",t)},expression:"policyDateForm.new_date"}})],1)],1)],1)],1)],1),e._v(" "),a("section",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.policyDateAction}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialog.policyDate=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]},y=a("VU/8")(h,D,!1,null,null,null);t.default=y.exports},r0EC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),r=a.n(s),l=a("exGp"),o=a.n(l),n=a("PcmU"),i=a("gHwQ"),c=a("Z1YF"),_={name:"InsuranceRedistrList",mixins:[n.a],components:{BaseDialog:i.a},data:function(){return{searchData:{search_status:"",dateRange:[]},tableData:{data:[],total:0,current_page:1,perPage:10},dialog:{track:!1},currtSelected:null}},methods:{query:function(e){var t=this;return o()(r.a.mark(function a(){var s,l;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(s=c.a.clone(t.searchData)).perPage=10,s.page=e,t.searchData.dateRange&&t.searchData.dateRange.length>0&&(s.search_start_time=t.searchData.dateRange[0],s.search_end_time=t.searchData.dateRange[1]),delete s.dateRange,a.next=7,t.$axios.send("BD_REASSIGN_LIST",s);case 7:(l=a.sent)&&0===l.status_code&&(t.tableData=l.result.listData);case 9:case"end":return a.stop()}},a,t)}))()},queryLog:function(e){var t=this;return o()(r.a.mark(function a(){var s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.currtSelected=e,a.next=3,t.$axios.send("BD_REASSIGN_TRACK",{s_id:e.s_id});case 3:(s=a.sent)&&0===s.status_code&&(t.currtSelected.track=s.result,t.dialog.track=!0);case 5:case"end":return a.stop()}},a,t)}))()}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"header-title"},[e._v(e._s(e.$route.name))]),e._v(" "),a("div",{staticClass:"mb30"}),e._v(" "),a("el-form",{staticClass:"common-padding",attrs:{model:e.searchData,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"起止日期"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchData.dateRange,callback:function(t){e.$set(e.searchData,"dateRange",t)},expression:"searchData.dateRange"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"分配类型"}},[a("el-select",{attrs:{clearable:""},model:{value:e.searchData.search_type,callback:function(t){e.$set(e.searchData,"search_type",t)},expression:"searchData.search_type"}},e._l(e.Dict.ASSIGN_TYPE,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保单号"}},[a("el-input",{model:{value:e.searchData.search_bd_code,callback:function(t){e.$set(e.searchData,"search_bd_code",t)},expression:"searchData.search_bd_code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"分配后代理人"}},[a("el-input",{model:{value:e.searchData.search_new_ag,callback:function(t){e.$set(e.searchData,"search_new_ag",t)},expression:"searchData.search_new_ag"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"分配前代理人"}},[a("el-input",{model:{value:e.searchData.search_old_ag,callback:function(t){e.$set(e.searchData,"search_old_ag",t)},expression:"searchData.search_old_ag"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:""}},[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"BD_REDISTR_SAVE",expression:"'BD_REDISTR_SAVE'"}],attrs:{type:"primary"},on:{click:function(t){return e.query(1)}}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"common-padding"},[a("el-table",{attrs:{data:e.tableData.data,"highlight-current-row":"",border:""},on:{"current-change":e.tableItemSelect}},[a("el-table-column",{attrs:{"min-width":"240",label:"保险公司",prop:"c_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"180",label:"保单号",prop:"bd_code"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"180",label:"机构名称",prop:"o_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"分配前代理人",prop:"pre_ag_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"分配后代理人",prop:"new_ag_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"分配类型",prop:"reassign_type"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("dict")(t.row.reassign_type,"ASSIGN_TYPE"))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"60",label:"分配轨迹",prop:"o_name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"alink",attrs:{href:"javascript:void(0)"},on:{click:function(a){return e.queryLog(t.row)}}},[e._v(e._s(t.row.log_num))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"保单状态",prop:"tb_status"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("dict")(t.row.tb_status,"TB_STATUS"))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"240",label:"再分配时间",prop:"reassign_time"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:"投保日期",prop:"tb_date"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:"承保日期",prop:"bd_time"}})],1)],1)]),e._v(" "),a("el-col",{staticClass:"common-paging tr",attrs:{span:24}},[a("div",{staticClass:"footer-page"},[e.tableData.total>0?a("div",{staticClass:"common-paging"},[a("el-pagination",{attrs:{"current-page":e.tableData.current_page,"page-size":10,layout:"total, prev, pager, next, jumper",total:e.tableData.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()])])],1),e._v(" "),a("base-dialog",{attrs:{title:"分配轨迹",isshow:e.dialog.track,width:"600px"},on:{"update:isshow":function(t){return e.$set(e.dialog,"track",t)}}},[e.currtSelected?a("section",{staticClass:"dialog-center log"},[a("el-row",{staticClass:"mb20"},[a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[e._v("保单号")]),e._v(": "+e._s(e.currtSelected.bd_code)+"\n        ")]),e._v(" "),a("el-col",{attrs:{span:12}},[a("label",[e._v("保单状态:")]),e._v(" "+e._s(e._f("dict")(e.currtSelected.tb_status,"TB_STATUS"))+"\n        ")])],1),e._v(" "),e._l(e.currtSelected.track,function(t,s){return a("el-row",{key:t.it_id,staticClass:"mb20"},[a("el-col",{staticClass:"mb20",attrs:{span:24}},[e._v("第 "+e._s(s+1)+" 次分配："+e._s(t.it_time))]),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[e._v(e._s(t.pre_ag_name)+" 分配给 "+e._s(t.after_ag_name))]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v(" 续期佣金收益比例："+e._s(t.it_rate)+" %")])],1)})],2):e._e()])],1)},staticRenderFns:[]};var m=a("VU/8")(_,u,!1,function(e){a("Rkkk")},"data-v-18c20e71",null);t.default=m.exports},vB4n:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),r=a.n(s),l=a("exGp"),o=a.n(l),n=a("PcmU"),i=a("A7zI"),c=a("Ob/D"),_=a("HJFN"),u=a("gHwQ"),m=a("zL8q"),p={name:"InsuranceSlipList",mixins:[n.a],components:{SelectCompany:c.a,SelectOrganization:_.a,BaseDialog:u.a,HasDetail:i.a},data:function(){return{searchData:{search_status:""},tableData:{data:[],total:0,current_page:1,perPage:10},dialog:{toPolic:!1,changeStatus:!1},changeStatusForm:{tb_status:""},toPolicForm:{bd_code:"",bd_time:""},currSelected:null}},methods:{query:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o()(r.a.mark(function a(){var s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.searchData.perPage=10,e.searchData.page=t,a.next=4,e.$axios.send("TB_MANAGE_LIST",e.searchData);case 4:(s=a.sent)&&0===s.status_code&&(e.tableData=s.result.listData);case 6:case"end":return a.stop()}},a,e)}))()},edit:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$router.push({name:"投保单修改",params:{id:e.currSelected.s_id,actionType:0}});case 1:case"end":return t.stop()}},t,e)}))()},changeStatusDiglog:function(){this.dialog.changeStatus=!0,this.changeStatusForm.tb_status=""},changeStatus:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.changeStatusForm.validate();case 2:if(!t.sent){t.next=11;break}return e.changeStatusForm.s_id=e.currSelected.s_id,t.next=7,e.$axios.send("TB_MANAGE_CHANGE_STATUS",e.changeStatusForm);case 7:(a=t.sent)&&0===a.status_code&&m.Message.success("状态变更成功"),e.dialog.changeStatus=!1,e.query();case 11:case"end":return t.stop()}},t,e)}))()},toPolicDiglog:function(){this.dialog.toPolic=!0},toPolic:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.toPolicForm.validate();case 2:if(!t.sent){t.next=11;break}return e.toPolicForm.s_id=e.currSelected.s_id,t.next=7,e.$axios.send("TB_MANAGE_TO_POLICY",e.toPolicForm);case 7:(a=t.sent)&&0===a.status_code&&m.Message.success("状态变更成功"),e.dialog.toPolic=!1,e.query();case 11:case"end":return t.stop()}},t,e)}))()}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"header-title"},[e._v(e._s(e.$route.name))]),e._v(" "),a("div",{staticClass:"mb30"}),e._v(" "),a("el-form",{staticClass:"common-padding",attrs:{model:e.searchData,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"机构选择"}},[a("select-organization",{attrs:{isShowNull:!0},model:{value:e.searchData.search_oid,callback:function(t){e.$set(e.searchData,"search_oid",t)},expression:"searchData.search_oid"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保险公司"}},[a("select-company",{attrs:{isShowNull:!0},model:{value:e.searchData.search_cid,callback:function(t){e.$set(e.searchData,"search_cid",t)},expression:"searchData.search_cid"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"投保单号"}},[a("el-input",{model:{value:e.searchData.search_tb_code,callback:function(t){e.$set(e.searchData,"search_tb_code",t)},expression:"searchData.search_tb_code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"投保人姓名"}},[a("el-input",{model:{value:e.searchData.search_tb_name,callback:function(t){e.$set(e.searchData,"search_tb_name",t)},expression:"searchData.search_tb_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理人姓名"}},[a("el-input",{model:{value:e.searchData.search_ag_name,callback:function(t){e.$set(e.searchData,"search_ag_name",t)},expression:"searchData.search_ag_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"投保单状态"}},[a("el-select",{staticClass:"w100",model:{value:e.searchData.search_status,callback:function(t){e.$set(e.searchData,"search_status",t)},expression:"searchData.search_status"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.Dict.TB_STATUS,function(t){return[t.value<6?a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}}):e._e()]})],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:""}},[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"TB_MANAGE_LIST",expression:"'TB_MANAGE_LIST'"}],attrs:{type:"primary"},on:{click:function(t){return e.query(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"TB_MANAGE_UPDATE",expression:"'TB_MANAGE_UPDATE'"}],attrs:{type:"warning",disabled:!e.currSelected},on:{click:e.edit}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"TB_MANAGE_CHANGE_STATUS",expression:"'TB_MANAGE_CHANGE_STATUS'"}],attrs:{type:"primary",disabled:!e.currSelected},on:{click:e.changeStatusDiglog}},[e._v("状态变更")]),e._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"TB_MANAGE_TO_POLICY",expression:"'TB_MANAGE_TO_POLICY'"}],attrs:{type:"primary",disabled:!e.currSelected},on:{click:e.toPolicDiglog}},[e._v("转为保单")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"common-padding"},[a("el-table",{attrs:{data:e.tableData.data,"highlight-current-row":"",border:""},on:{"current-change":e.tableItemSelect}},[a("el-table-column",{attrs:{width:"80",label:"选择",fixed:"",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:!0,name:"selected"},model:{value:t.row.selected,callback:function(a){e.$set(t.row,"selected",a)},expression:"scope.row.selected"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"序号",width:"50",type:"index"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"200",label:"机构名称",prop:"o_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"240",label:"保险公司",prop:"c_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"180",label:"投保单号",prop:"tb_code"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("has-detail",{attrs:{marker:"TB_MANAGE_DETAIL",href:"#/app/InsuranceSlip/Detail/"+t.row.s_id}},[e._v(e._s(t.row.tb_code))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"投保人",prop:"tb_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"被保人",prop:"ir_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"代理人",prop:"ag_name"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:"投保日期",prop:"tb_date"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"投保状态",prop:"tb_status"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("dict")(t.row.tb_status,"TB_STATUS"))+"\n          ")]}}])})],1)],1)]),e._v(" "),a("el-col",{staticClass:"common-paging tr",attrs:{span:24}},[a("div",{staticClass:"footer-page"},[e.tableData.total>0?a("div",{staticClass:"common-paging"},[a("el-pagination",{attrs:{"current-page":e.tableData.current_page,"page-size":10,layout:"total, prev, pager, next, jumper",total:e.tableData.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()])])],1),e._v(" "),a("base-dialog",{attrs:{title:"状态变更",isshow:e.dialog.changeStatus,width:"475px",height:"275px"},on:{"update:isshow":function(t){return e.$set(e.dialog,"changeStatus",t)}}},[a("section",{staticClass:"dialog-center pt20"},[a("el-form",{ref:"changeStatusForm",attrs:{model:e.changeStatusForm,"label-width":"120px","label-suffix":"："}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:"状态变更前"}},[e.currSelected?a("span",[e._v(" "+e._s(e._f("dict")(e.currSelected.tb_status,"TB_STATUS")))]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:"状态变更后",prop:"tb_status",rules:[{required:!0,message:"状态变更后还未选择",trigger:"change"}]}},[a("el-radio-group",{model:{value:e.changeStatusForm.tb_status,callback:function(t){e.$set(e.changeStatusForm,"tb_status",t)},expression:"changeStatusForm.tb_status"}},[a("el-row",[a("el-col",{staticClass:"mb20",attrs:{span:24}},[a("el-radio",{attrs:{label:0}},[e._v("待核保")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("核保前撤单")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("拒单")])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-radio",{attrs:{label:3}},[e._v("承保前撤单 ")]),e._v(" "),a("el-radio",{attrs:{label:4}},[e._v("无效投保单")]),e._v(" "),a("el-radio",{attrs:{label:5}},[e._v("待承保")])],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),a("section",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.changeStatus}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialog.changeStatus=!1}}},[e._v("取 消")])],1)]),e._v(" "),a("base-dialog",{attrs:{title:"转为保单",isshow:e.dialog.toPolic,width:"475px",height:"275px"},on:{"update:isshow":function(t){return e.$set(e.dialog,"toPolic",t)}}},[a("section",{staticClass:"dialog-center pt20"},[a("el-form",{ref:"toPolicForm",attrs:{model:e.toPolicForm,rules:e.Rule.TO_POLICY,"label-width":"100px","label-suffix":"："}},[a("el-row",[a("el-col",{attrs:{span:16,offset:3}},[a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:"保单号",prop:"bd_code"}},[a("el-input",{model:{value:e.toPolicForm.bd_code,callback:function(t){e.$set(e.toPolicForm,"bd_code",t)},expression:"toPolicForm.bd_code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:16,offset:3}},[a("el-form-item",{staticClass:"clear-marginbottom",attrs:{label:"生效日期",prop:"bd_time"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date"},model:{value:e.toPolicForm.bd_time,callback:function(t){e.$set(e.toPolicForm,"bd_time",t)},expression:"toPolicForm.bd_time"}})],1)],1)],1)],1)],1),e._v(" "),a("section",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.toPolic}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialog.toPolic=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]},f=a("VU/8")(p,d,!1,null,null,null);t.default=f.exports}});