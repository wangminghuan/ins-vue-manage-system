webpackJsonp([9],{iPtC:function(e,t){},lAsp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),n=a.n(s),r=a("exGp"),l=a.n(r),i={components:{BaseDialog:a("gHwQ").a},data:function(){return{dialogSet:{title:"新增角色",sendDialog:!1},listId:{},isDisabled:!1,currentPage:1,sumtotal:"",ruleForm:{r_name:""},objnum:{page:1},rules:{r_name:[{required:!0,message:"请输入角色名称",trigger:"blur"}]},tableData3:[]}},methods:{handleAdd:function(e){this.$refs[e].resetFields(),this.dialogSet.sendDialog=!0},handleDelect:function(){var e=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(l()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.send("ROLE_MANAGE_DELETE","",{id:e.listId.r_id});case 2:0===t.sent.status_code&&(e.tableData3.length-1==0&&(e.objnum.page=e.currentPage-1),e.getData(),e.$message({type:"success",message:"删除成功!"}),e.isDisabled=!1);case 4:case"end":return t.stop()}},t,e)}))).catch(function(){e.$message({type:"info",message:"已取消删除"})})},dialogSave:function(e){var t=this;return l()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.$refs[e].validate(function(){var e=l()(n.a.mark(function e(a){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return e.next=3,t.$axios.send("ROLE_MANAGE_ADD",t.ruleForm);case 3:0===e.sent.status_code&&(t.getData(),t.$message({type:"success",message:"操作成功"}),t.dialogSet.sendDialog=!1),e.next=8;break;case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return a.stop()}},a,t)}))()},handleSelectTable:function(e,t){e&&(e.selected=!0,this.listId=e,this.isDisabled=!0),t&&(t.selected=!1)},handleCurrentChange:function(e){this.currentPage=e,this.objnum.page=this.currentPage,this.getData()},getData:function(){var e=this;return l()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.send("SELECT_ROLE_LIST",e.objnum);case 2:0===(a=t.sent).status_code&&(e.tableData3=a.result.data,e.sumtotal=a.result.total);case 4:case"end":return t.stop()}},t,e)}))()}},created:function(){this.getData()}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rolePage-wrap"},[a("section",{staticClass:"header-title"},[e._v("角色管理")]),e._v(" "),a("div",{staticClass:"mb30"}),e._v(" "),a("section",{staticClass:"common-padding",staticStyle:{"padding-bottom":"20px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"ROLE_MANAGE_ADD",expression:"'ROLE_MANAGE_ADD'"}],staticClass:"elButtonSearch",attrs:{type:"primary"},on:{click:function(t){return e.handleAdd("ruleForm")}}},[e._v("新增")]),e._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"ROLE_MANAGE_DELETE",expression:"'ROLE_MANAGE_DELETE'"}],attrs:{type:"danger",disabled:!e.isDisabled},on:{click:e.handleDelect}},[e._v("删除")])],1)],1)],1),e._v(" "),a("section",{staticClass:"common-padding",staticStyle:{"padding-bottom":"20px"}},[a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:e.tableData3,border:"","highlight-current-row":""},on:{"current-change":e.handleSelectTable}},[a("el-table-column",{attrs:{fixed:"",label:"选择",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:!0},model:{value:t.row.selected,callback:function(a){e.$set(t.row,"selected",a)},expression:"scope.row.selected"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"r_name",label:"角色名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"is_agents",label:"用户信息"}}),e._v(" "),a("el-table-column",{attrs:{prop:"is_permission",label:"权限"}})],1),e._v(" "),a("div",{staticClass:"footer-page"},[a("div",{staticClass:"common-paging"},[e.sumtotal?a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"total, prev, pager, next, jumper",total:e.sumtotal},on:{"current-change":e.handleCurrentChange}}):e._e()],1)])],1),e._v(" "),a("BaseDialog",{attrs:{title:e.dialogSet.title,isshow:e.dialogSet.sendDialog,width:"379px",height:"300px"},on:{"update:isshow":function(t){return e.$set(e.dialogSet,"sendDialog",t)}}},[a("section",{staticClass:"dialog-center"},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"角色名称",prop:"r_name"}},[a("el-input",{staticClass:"input-width",model:{value:e.ruleForm.r_name,callback:function(t){e.$set(e.ruleForm,"r_name",t)},expression:"ruleForm.r_name"}})],1)],1)],1)],1)],1),e._v(" "),a("section",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dialogSave("ruleForm")}}},[e._v("保 存")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogSet.sendDialog=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]};var c=a("VU/8")(i,o,!1,function(e){a("iPtC")},"data-v-4ca2d112",null);t.default=c.exports}});